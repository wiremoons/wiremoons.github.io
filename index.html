<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
	<meta name="generator" content="Hugo 0.69.0" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
       &middot; 
    
  </title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A reserved <a href="http://jekyllrb.com" target="_blank">Jekyll</a> theme that places the utmost gravity on content with a hidden drawer. Made by <a href="https://twitter.com/mdo" target="_blank">@mdo</a>.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item  active " href="/">Home</a>
    <a class="sidebar-nav-item " href="/post">Posts</a>
    </nav>

  <div class="sidebar-item">
    <p>&copy; 2020. All rights reserved.</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home"></a>
            <small></small>
          </h3>
        </div>
      </div>

      <div class="container content">





<div class="posts">
  
    <div class="post">
        <h1 class="post-title"><a href="http://www.wiremoons.com/posts/2020-04-18-nim-debugging-approaches/">Nim Debugging Approaches</a></h1>
        <span class="post-date">Apr 18, 2020</span>
        <h1 id="nim-debugging-approaches">Nim Debugging Approaches</h1>
<p>The article explores debugging <a href="https://nim-lang.org/">Nim</a> programs, and different approaches to outputting debug messages from a simple example program. All the included code was tested with Nim compiler version 1.2.0 running on Linux ARM.</p>
<h3 id="approaches-to-debugging-source-code">Approaches to Debugging Source Code</h3>
<p>Whatever programming language is being used, one requirement that pretty much exists in all of them, is the ability to carryout debugging. Nim, while being a concise and no fuss language with easy to read and very Python like source code syntax, is no different.</p>
<p>When you have an error in a program being written, or just want to check a bit of code is working as expected, or to trouble shoot a breakage - some method is needed to provide a level of extra detailed information when the program runs.</p>
<p>The best approach is to use an actual debugger most of time, such as <a href="https://www.gnu.org/software/gdb/">GDB</a>, to step through the program and view everything you need. Sometimes this is overkill, and all you want is for you program to print out a message to say it has reached a certain point when running, or tell you what a variable currently contains.</p>
<p>Of course just printing out messages is often the simplest approach, and easiest too. It does mean that the source code can get littered with <code>echo &quot;debug message&quot;</code> or even <code>write(stderr, &quot;debug message\n&quot;)</code>. Once the program is complete, unless they are removed one by one, these extra code snippets of course end up being compiled into the program, even though it is no longer being debugged!</p>
<p>So what are the approaches that can be used?</p>
<h3 id="a-very-simple-nim-program">A Very Simple Nim Program</h3>
<p>To demonstrate some different approaches, a very simple (and boring) example program in Nim is needed:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nim" data-lang="nim"><span style="color:#75715e"># file called &#39;myprog.nim&#39;</span>

<span style="color:#66d9ef">proc </span><span style="color:#a6e22e">messageOut</span>(myMsg:<span style="color:#66d9ef">string</span>) <span style="color:#f92672">=</span>
  echo <span style="color:#e6db74">&#34;My message is: &#34;</span> <span style="color:#f92672">&amp;</span> myMsg
  
<span style="color:#75715e"># runs from here</span>
messageOut(<span style="color:#e6db74">&#34;Hello from Nim!&#34;</span>)

</code></pre></div><p>The above example code can be saved in a text file named: <code>myprog.nim</code> and then can be compiled with the command: <code>nim c myprog.nim</code>. The compiled program can be run as <code>./myprog</code> or on Windows with <code>myprog.exe</code>. All it does is print out: <code>My message is: Hello from Nim!</code>.</p>
<h3 id="adding-basic-debug-output">Adding Basic Debug Output</h3>
<p>So lets add some extra output to help debug the program, to see what it is doing as it is run:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nim" data-lang="nim"><span style="color:#75715e"># file called &#39;myprog.nim&#39;</span>

<span style="color:#66d9ef">proc </span><span style="color:#a6e22e">messageOut</span>(myMsg: <span style="color:#66d9ef">string</span>) <span style="color:#f92672">=</span>
  echo <span style="color:#e6db74">&#34;DEBUG: in proc &#39;messageOut&#39; with myMsg: &#39;&#34;</span> <span style="color:#f92672">&amp;</span> myMsg <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#34;&#39;.&#34;</span>
  echo <span style="color:#e6db74">&#34;My message is: &#34;</span>, myMsg

<span style="color:#75715e"># runs from here</span>
echo <span style="color:#e6db74">&#34;DEBUG: program is running!&#34;</span>
messageOut(<span style="color:#e6db74">&#34;Hello from Nim!&#34;</span>)
echo <span style="color:#e6db74">&#34;DEBUG: program is done&#34;</span>

</code></pre></div><p>The above works when compiled in the same way, and we can now track what the program is doing as it runs!</p>
<p>But this source code looks very messy, and of course that extra debug code is always going to be printing all that extra &lsquo;DEBUG&rsquo; output information whenever it runs. Not a very good solution, except for a very quick temporary debug perhaps&hellip;</p>
<h3 id="controlling-the-kind-of-compiled-program">Controlling the Kind of Compiled Program</h3>
<p>So what other approach could be used? Well Nim is clever in that when it compiles the program, you can tell it if you want a &lsquo;<em>debug</em>&rsquo; or &lsquo;<em>release</em>&rsquo; version of the program. This can be done as extra flags to the compile command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># for a &#39;debug&#39; version (the default):</span>
nim c myprog.nim     becomes:     nim c -d:debug myprog.nim

<span style="color:#75715e"># for a &#39;release&#39; version:</span>
nim c myprog.nim     becomes:     nim c -d:release myprog.nim
</code></pre></div><p>The advantage of this approach is that we can now better manage the debug messages in to programs code, so it will only display the additional debug messages, when it is compiled as a &lsquo;<em>debug</em>&rsquo; version of the program.</p>
<p>This can then be used by our program, by adding an extra check in the source code. This check is used to see what was requested when the program compiled - so that when it is run, it can be decided if the extra debug output should be displayed or not. The updated source code file adds this additional check with: <code>when not defined(release): </code> as shown below:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nim" data-lang="nim"><span style="color:#75715e"># file called &#39;myprog.nim&#39;</span>

<span style="color:#66d9ef">proc </span><span style="color:#a6e22e">messageOut</span>(myMsg:<span style="color:#66d9ef">string</span>) <span style="color:#f92672">=</span>
  <span style="color:#66d9ef">when</span> <span style="color:#f92672">not</span> defined(release): echo <span style="color:#e6db74">&#34;DEBUG: in proc &#39;messageOut&#39; with myMsg: &#39;&#34;</span> <span style="color:#f92672">&amp;</span> myMsg <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#34;&#39;.&#34;</span>
  echo <span style="color:#e6db74">&#34;My message is: &#34;</span>,myMsg
  
<span style="color:#75715e"># runs from here</span>
<span style="color:#66d9ef">when</span> <span style="color:#f92672">not</span> defined(release): echo <span style="color:#e6db74">&#34;DEBUG: program is running!&#34;</span>
messageOut(<span style="color:#e6db74">&#34;Hello from Nim!&#34;</span>)
<span style="color:#66d9ef">when</span> <span style="color:#f92672">not</span> defined(release): echo <span style="color:#e6db74">&#34;DEBUG: program is done&#34;</span>

</code></pre></div><p>If the above is compiled again, but this time also specifying it is either a &lsquo;<em>release</em>&rsquo; of &lsquo;<em>debug</em>&rsquo; version, the debug extra output will only appear when it is specifically compiled as a &lsquo;<em>debug</em>&rsquo; version of the program.</p>
<p>Well that&rsquo;s an improvement, but it is still quite a lot of extra code to sprinkled throughout the programs source code. So the next improvement is to use a <strong>Nim &lsquo;<em>template</em>'</strong>!</p>
<h3 id="using-a-nim-template-to-manage-debug-output">Using a Nim Template to Manage Debug Output</h3>
<p>In the main source code file, just above the existing <code>proc messageOut()</code> code, a Nim <em>template</em> has been added (see below). This simplifies the output of any debug information that needs to be displayed. It creates the ability to use <code>debug</code> in place of our previous <code>echo</code> command as used before. It will still only output any debug messages when the program is compiled in &lsquo;<em>debug</em>&rsquo; mode. So we don&rsquo;t loose any of the previous functionally, just gain a simplification, and cleaner looking, with easier to understand code!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nim" data-lang="nim"><span style="color:#75715e"># file called &#39;myprog.nim&#39;</span>

<span style="color:#75715e"># template added</span>
<span style="color:#66d9ef">template</span> debug(data: untyped) <span style="color:#f92672">=</span> 
  <span style="color:#66d9ef">when</span> <span style="color:#f92672">not</span> defined(release):
    echo data

<span style="color:#75715e"># source below updated to use &#39;debug&#39; template</span>
<span style="color:#66d9ef">proc </span><span style="color:#a6e22e">messageOut</span>(myMsg:<span style="color:#66d9ef">string</span>) <span style="color:#f92672">=</span>
  debug <span style="color:#e6db74">&#34;DEBUG: in proc &#39;messageOut&#39; with myMsg: &#39;&#34;</span>,myMsg,<span style="color:#e6db74">&#34;&#39;.&#34;</span>
  echo <span style="color:#e6db74">&#34;My message is: &#34;</span>,myMsg
  
<span style="color:#75715e"># runs from here</span>
debug <span style="color:#e6db74">&#34;DEBUG: program is running!&#34;</span>
messageOut(<span style="color:#e6db74">&#34;Hello from Nim!&#34;</span>)
debug <span style="color:#e6db74">&#34;DEBUG: program is done&#34;</span>

</code></pre></div><p>The program is compiled and run as before, and if compiled as a &lsquo;<em>debug</em>&rsquo; program (ie not &lsquo;<em>release</em>'), then as before, it outputs the additional information. The source code looks a lot cleaner, and is easier to understand overall, once it is understood what the extra &lsquo;<em>template</em>&rsquo; part of the code is for!</p>
<h3 id="debugging-for-multiple-source-code-files-in-projects">Debugging For Multiple Source Code Files in Projects</h3>
<p>While this is fine for our very simple program with one source code file, what if we had a project with lots of different source code files, and we want to use the new <code>debug</code> feature in all of them?</p>
<p>Well, the &lsquo;<em>template</em>&rsquo; can be put into its own source code file as a Nim &lsquo;<em>module</em>', and then just imported into any of the other source code file(s) in our project, that may want to use it. To convert our small program ready for this approach, we create two source code files now, as below.</p>
<p>The first one just holds our &lsquo;<em>template</em>&rsquo; <code>debug</code> output code - but note: <strong>it is important to add a &lsquo;<code>*</code>&rsquo; after the name of the template name - in our case after the word <code>debug</code></strong>. This tells the Nim compiler that this <em>template</em> code can be used by other source code files in our project. This allows the actual main program code to call the debug <em>template</em>. Without this additional &lsquo;<code>*</code>&rsquo; this wont work!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nim" data-lang="nim"><span style="color:#75715e"># file called &#39;debugUtils.nim&#39;</span>

<span style="color:#66d9ef">template</span> debug<span style="color:#f92672">*</span>(data: untyped) <span style="color:#f92672">=</span>
  <span style="color:#66d9ef">when</span> <span style="color:#f92672">not</span> defined(release):
    echo data
</code></pre></div><p>The main source code file remains much as before - except there is an <code>import debugUtils</code> statement, which allows the &lsquo;<em>template</em>&rsquo; code to be used. This same approach can be repeated across many other source code files that our project may have, which wish to also use the <code>debug</code> output capability too!</p>
<p>Also note that the &lsquo;<em>templates</em>&rsquo; source code file name suffix (ie <code>.nim</code>) is not included in the <code>import debugUtils</code> statement. If the <code>.nim</code> part is included the compiler will report an error and not work. The complete main program source code file is now as below:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nim" data-lang="nim"><span style="color:#75715e"># file called &#39;myprog.nim&#39;</span>

<span style="color:#75715e"># import the debug code template: &#39;debugUtils.nim&#39;</span>
<span style="color:#f92672">import</span> debugUtils


<span style="color:#66d9ef">proc </span><span style="color:#a6e22e">messageOut</span>(myMsg: <span style="color:#66d9ef">string</span>) <span style="color:#f92672">=</span>
  debug <span style="color:#e6db74">&#34;DEBUG: in proc &#39;messageOut&#39; with myMsg: &#39;&#34;</span> <span style="color:#f92672">&amp;</span> myMsg <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#34;&#39;.&#34;</span>
  echo <span style="color:#e6db74">&#34;My message is: &#34;</span>, myMsg

<span style="color:#75715e"># runs from here</span>
debug <span style="color:#e6db74">&#34;DEBUG: program is running!&#34;</span>
messageOut(<span style="color:#e6db74">&#34;Hello from Nim!&#34;</span>)
debug <span style="color:#e6db74">&#34;DEBUG: program is done&#34;</span>

</code></pre></div><p>The program is still compiled as before: <code>nim c myprog.nim</code>, and the compiler is clever enough to include the additional <code>debugUtils.nim</code> source coded file on its own. The program should run as before once compiled.</p>
<p>This final &lsquo;<em>template</em>&rsquo; option is much cleaner, more versatile, and flexible, and saves a lot of repeated code in a project. It also allows one file to be changed that affects all the other files that use the <code>debug</code> facility. The &lsquo;<em>template</em>&rsquo; code can be adjusted if need, without having to find every <code>debug</code> output statement in all the source code files that a project may have.</p>
<h3 id="debug-messages-as-errors">Debug Messages As Errors</h3>
<p>So far, the &lsquo;<em>DEBUG</em>&rsquo; messages we have added have been displayed when the program runs, and are mixed in with programs normal output.
While this works well, it is better to allow the debug messages to still be displayed, but also allow them to be managed separately if needed. It is good practice to print debug messages as &lsquo;<em>error</em>&rsquo; outputs - not a part of the normal programs output. So to achieve this separation, the Nim &lsquo;<em>template</em>&rsquo; can be adjusted to send it output to &lsquo;<strong>stderr</strong>&rsquo; an abbreviation for &lsquo;<em>standard error</em>'. Normal program output is sent to &lsquo;<strong>stdout</strong>', which is an abbreviation for &lsquo;<em>standard output</em>'. Standard output is is what the Nim <code>echo</code> procedure uses.</p>
<p>To send the &lsquo;<em>debug</em>&rsquo; output to &lsquo;<em>stderr</em>&rsquo; instead, we need to switch from <code>echo</code> to <code>write</code>, that provides this extra capability.</p>
<p>Another improvement is that any debug output can be prefixed with &lsquo;<em>DEBUG</em>&rsquo; by the &lsquo;<em>template</em>&rsquo; - so removing the need to add this extra text in our main programs source code files over and over again! The &lsquo;<em>template</em>&rsquo; (see below) now adds the &lsquo;<em>DEBUG</em>&rsquo; text before the actual debug message, and then also appends a newline character (ie <code>\n</code>) to the end, so we start a new display line after the debug message is output.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nim" data-lang="nim"><span style="color:#75715e"># file called &#39;debugUtils.nim&#39;</span>

<span style="color:#66d9ef">template</span> debug<span style="color:#f92672">*</span>(data: untyped) <span style="color:#f92672">=</span>
  <span style="color:#66d9ef">when</span> <span style="color:#f92672">not</span> defined(release):
    write(stderr, <span style="color:#e6db74">&#34;DEBUG: &#34;</span> <span style="color:#f92672">&amp;</span> data <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</code></pre></div><p>The main program source code is as before, just the &lsquo;DEBUG&rsquo; text has been removed from the debug messages, as that is added now automatically by the &lsquo;<em>template</em>&rsquo; instead.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nim" data-lang="nim"><span style="color:#75715e"># file called &#39;myprog.nim&#39;</span>

<span style="color:#75715e"># import the debug code template: &#39;debugUtils.nim&#39;</span>
<span style="color:#f92672">import</span> debugUtils


<span style="color:#66d9ef">proc </span><span style="color:#a6e22e">messageOut</span>(myMsg: <span style="color:#66d9ef">string</span>) <span style="color:#f92672">=</span>
  debug <span style="color:#e6db74">&#34;in proc &#39;messageOut&#39; with myMsg: &#39;&#34;</span> <span style="color:#f92672">&amp;</span> myMsg <span style="color:#f92672">&amp;</span> <span style="color:#e6db74">&#34;&#39;.&#34;</span>
  echo <span style="color:#e6db74">&#34;My message is: &#34;</span>, myMsg

<span style="color:#75715e"># runs from here</span>
debug <span style="color:#e6db74">&#34;program is running!&#34;</span>
messageOut(<span style="color:#e6db74">&#34;Hello from Nim!&#34;</span>)
debug <span style="color:#e6db74">&#34;program is done&#34;</span>

</code></pre></div><p>That&rsquo;s it - just compile and run as before, and the output should be the same as before too. Now however, the program can also be run with additional parameters: <code>./myprog 2&gt; debug.txt</code>.</p>
<p>When run in this way, the debug messages no longer get shown on screen, and just the programs normal output is seen - much the same as when it is compiled as a &lsquo;<em>release</em>&rsquo; version of the program.</p>
<p>What the extra <code> 2&gt; debug.txt</code> part does is redirect any error output into a new file called <code>debug.txt</code>. If you view this file in a text editor (or: <code>cat ./debug.txt</code>) it will show all the debug messages it captured when the program ran. This is a nice way to separate out the debug messages being sent to &lsquo;<em>stderr</em>&rsquo; and the normal programs output being sent to &lsquo;<em>stdout</em>'.</p>
<p>Hopefully this ability to manage debug output in an Nim program is useful, and helps to keep the main source code neat and clean, much like Nim source code is generally supposed to be!</p>
<h3 id="ensuring-extra-debug-information-is-included-for-gdb">Ensuring Extra Debug Information is Included for GDB</h3>
<p>Of course, this does not replace in depth debugging to investigate a <code>SEG FAULT</code> perhaps, but it is certainly very useful, and often all that is needed in everyday coding with Nim. Keep it simple!</p>
<p>If you do plan to use a debugger such as <code>gdb</code> with your Nim program, then it is worth ensuring Nim compiles as much debug support information into you program as it can. The additional Nim compiler flags that can be used to help achieve this are as follows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nim" data-lang="nim">nim c <span style="color:#f92672">-</span>d:debug <span style="color:#f92672">--</span>lineDir:on <span style="color:#f92672">--</span>debuginfo <span style="color:#f92672">--</span>debugger:native myprog.nim
</code></pre></div><p>If you want to find out more about Nim, visit the great web site pages here: <a href="https://nim-lang.org/">Nim language site</a> or if you need more help, the <a href="https://forum.nim-lang.org">Nim Forum</a> is friendly and supportive community location to call on.</p>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="http://www.wiremoons.com/posts/2020-04-16-training-in-a-polarised-fashion/">Training in a Polarised Fashion</a></h1>
        <span class="post-date">Apr 16, 2020</span>
        <h1 id="training-in-a-polarised-fashion">Training in a Polarised Fashion</h1>
<p>It is important that you enjoy your sport of choice and get whatever you wish to achieve from it—be it fun, fitness, welfare, completing a goal, improved health, or just the social aspect that it provides. When first starting out in a sport, it may begin as a recreational activity, and all that matters is the achievement of carrying out the activity, plus any basic equipment required to participate—such as pair of trainers (ie running shoes), a bike, a swimming costume, etc.</p>
<p>For some this is enough, and a lifetime of enjoyment and fun ensues! For others, the ‘<em>recreational only</em>’ activity grows into something a bit more involved&hellip;</p>
<p>One of these alterations is probably training—even if it is not formally carried out. Perhaps just an increase in the participation of the activity, so also increasing the amount of time invested. For some people however, a curiosity starts, and an interest and exploration into the world of: training plans; diet management; measurements; analysis; coaching; and even an expansion into additional sports to support the primary activity, along with a large increase in time and commitment. There goes that fun — unless you manage it right of course&hellip;</p>
<p>If done right, and with the correct support, help, and knowledge—a once &lsquo;<em>recreational activity</em>&rsquo; grows into creating someone who has become an athlete in their own right, even if this athleticism still has a focus on personal fitness and enjoyment.</p>
<blockquote>
<p><em>athlete</em> (noun) :  a person trained to compete in sports or exercises involving physical strength, speed, or endurance</p>
</blockquote>
<p>If the goal of the athlete is being met, and they are happy to accept the benefits they have obtained, and they are happy with the methods used, the costs incurred (money wise or time invested), and so on—then this is great, job done!</p>
<p>However, some of us can not get the lid back onto Pandora&rsquo;s Box.</p>
<blockquote>
<p><em>Pandora&rsquo;s Box</em> is an artefact from a Greek mythology story, and is a container that once opened released death and many other evils into the world.  In modern times an idiom has grown from it meaning &ldquo;<em>Any source of great and unexpected troubles</em>&quot;, or alternatively &ldquo;<em>A present which seems valuable but which in reality is a curse</em>&quot;.</p>
</blockquote>
<p>As with most things in life, balance is the key then!</p>
<p>So if the enjoyment of a recreational activity appears to be taking on a obsessive and disproportional investment based on the objective, perhaps it is worth re-examining the balance&hellip;</p>
<p>There are of course different ways to approach training, effort invested, and outcomes achieved. When I started cycling again most of the information available that I came across was focused on <strong>threshold training</strong>. The basic premise is that you work out your Functional Threshold Power (FTP), preferably with a power meter — or using other methods too, and structure your training around your own magic FTP number.</p>
<p>Each persons FTP is individual them. The higher the number does not mean the more powerful the cyclist however — a mistake lots of people make to start with. FTP is a number that is supposed to represent the maximum power output that can be produced by a rider for an hour long period. The FTP can then be used to identify the persons power zones, and then ensure the training is proportional effort wise, and to focus their training efforts correctly.</p>
<p>This training (in most man stream information sources) then tends to focus on &lsquo;<em>threshold</em>&rsquo; training, sometimes referred to as &lsquo;thrash-hold training&rsquo; by those people not too keen on it as an approach. The basic idea is you can carry out activities such as <em>Sweet Spot Training</em> to push your FTP higher over time, or instead, focus on much harder <em>VO2 max intervals</em>, and pull you FTP up to a higher number. Or if you are really into getting a bigger FTP, a mixture of both!</p>
<p>Not being a big fan of failure to complete workouts — I would tend to go for the sweet spot training, as this is less harsh, and as long as you are not trying to impress people with your FTP number (ie making it higher than it actually is!) — then this training is very repeatable and manageable, and in my own experience, it does work too.</p>
<p>When I wished to loose weight, and get fit at the same time, a 50 minute structured sweet spot session each day certainly worked. Can&rsquo;t say it immediately did a lot for my FTP — but then loosing weight and pushing your FTP up are not normally two things that go well together, especially if you are impatient for results on the weight loss side&hellip; You will probably loose some muscle weight too, if you go at it too hard. Without the right food to fuel the workout (I was fasted training also - just cause I could!) your body is clever enough to harvest what it needs from other &lsquo;easy to get at&rsquo; sources, such as your own muscles. Oh look - balance again.</p>
<p>I have been there, and pushed my weight loss to quickly at the expense of lowering my FTP too. Only when I got the weight off, and then focused on my FTP did I get both right, and I improved my FTP significantly. I don&rsquo;t have that FTP anymore though, as it soon drifts off if you don&rsquo;t work at it, and I am not getting any younger either. It is nice to know it exists (or existed I expect!) though, and hard work can pay off.</p>
<p>So after obsessing over my weight and FTP, and going around the loop a few times over a couple of years (which was fun mostly) I certainly learnt a lot. It was time for a different approach though, because of course an approach has to exists were you can do less exercise and still get great results&hellip; well I can dream, and I did for quite a few months trying.</p>
<p>Enter a more <em>polarised training</em> approach, which is different from a threshold focused approach!</p>
<p>Again, the basic premise is (and this is very simplified!) that instead of trashing away each day with sweet spot training to push the FTP up, you instead focus in two extremes. One or two hard (like very hard VO2 max sessions) a week, plus all other rides focused on ridding very very easily. Sounds great right - how hard can it be to ride easily every where most of the week, and then just go mad in one session per week&hellip;</p>
<p>Well, to be honest, it was lots of fun to start with, and I did enjoy trying out different VO2 max intervals, as I had not previously had any reason to hate myself enough to do them before this&hellip; I enjoyed looking at the various example VO2 max workout sessions, and thinking &ldquo;how hard can that be - you only hold it for 30 seconds (1min or 2 mins etc)&rdquo; - and then you rest and recover, then do it again&hellip; easy right.   WRONG! Very wrong!</p>
<p>What about the easy riding bit then — that must have been relaxing and enjoyable right&hellip; Well no, because unless you lock yourself into a workout to ensure you don&rsquo;t over do the power output (the only way I could achieve this), it wont work.</p>
<p>If you are at all competitive, and have little self restraint when someone else innocently passes you, then you will be in trouble. Perhaps you like to push a bit on hills, because they are more fun if you ride them like a car is chasing you? Well, then you will hate crawling up the hill at two mph as you have to keep the power down, while everyone else rides past. You also imagine of course (as you are bored!) that while they glide past, they are all thinking you have really let your fitness go now — as you would never of been overtake before on a hill a few weeks ago&hellip; Oh, and the purpose of these sloooow sessions is more about spending a very long time riding too. So you get to ride about like a snail going backwards for at least an hour and a half - but over two hours would be more beneficial. Trying fitting that in around work&hellip;</p>
<p>I tried it out for a few months. It did not do me any harm. It did not increase (or really impact) my FTP. I enjoyed trying it, and the experience was fun mostly. I found some VO2 max sessions that I wont ever be doing again that is for sure! I then burnt out on training&hellip; and so have not really done much since.</p>
<p>Last year (2019) I only rode out doors once (on 01 January 2019), and didn&rsquo;t hit my annual target mileage, which was a reduce against the prior year anyway. I had achieved my cycling goals though, got very fit compared to before, and my weight is now manageable and in check mostly.</p>
<p>I still ride every week indoors, mostly focused on 30 minute rides to satisfy my Apple Watch exercise target. My fitness level has dropped dramatically too - but I am not unfit either. It is now being 2020, I am starting to re-kindle my interested, and thoughts of sweet spot trading have again crossed my mind. I might even get outside too, if the COVID-19 bans are lifted before the summer ends!</p>
<p>The main thing is — I have found a balance again, and have incorporated cycling back into my everyday life, but without trying to become a pro rider in my fifty&rsquo;s&hellip;  Will I ever learn?</p>
<p>I hope not :)</p>
<h3 id="sources">Sources:</h3>
<ul>
<li><a href="http://baronbiosys.com/sweet-spot-threshold-and-polarized-training-by-the-numbers/">Baron Biosystems: Sweet Spot, Threshold and Polarized Training … By the Numbers </a></li>
</ul>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="http://www.wiremoons.com/posts/2016-03-05-cycling-restart/">Cycling Restart</a></h1>
        <span class="post-date">Mar 5, 2016</span>
        <h1 id="cycling-restart">Cycling Restart</h1>
<h2 id="summary">Summary</h2>
<p>So I decided to get fit again. After not doing any activity at all for quite a
while—and not cycling for approximately 20 years!</p>
<p>I thought I would capture the background and the early part of this
journey, before I forget the details, and so I can review the reasons in
the future—when I inevitably fail to remember the point to exercising again.</p>
<p>So - why would I do this, and what was the catalyst?</p>
<h2 id="journey-start">Journey Start</h2>
<p>As my job is mainly desk based (yes—another IT geek!) I was very inactive
for most of the week. While more active on the weekends—I still didn&rsquo;t do
too much more then either. At least on the weekends I would get out and take
photos or walk the dog (or both), visit some castle, beach or hill top
somewhere for fresh air.</p>
<p>It wasn&rsquo;t that I felt particularly unfit either, over weight or even old. I
certainly didn&rsquo;t wake up one morning and decide to do this—it just sort of
crept up on me, and I would find myself wondering (or <em>day dreaming</em>) about
the impact of little or no exercise on my life.</p>
<p>Over the past five years I suddenly realised that my clothes had started to
get tighter around the waist as my gut grew over time, shirts would not be so
loose, my belt notches would go up one, and when I looked down I would see a
definite increase to my waist girth!</p>
<p>Of course being past my mid forties now—all this could be just put down to
the inevitable <em>middle-age spread</em>:</p>
<blockquote>
<p><strong>middle-aged spread</strong></p>
<p><em>noun</em>
noun: middle-age spread
the fat that may accumulate around the abdomen in middle age.
&ldquo;<em>at 40, you developed something unavoidable called middle-aged spread</em>&rdquo;</p>
</blockquote>
<p>At the end of the day I might be getting a bit heavier—but at least I wasn&rsquo;t
fat, or too unfit—so I thought anyway!!</p>
<h2 id="the-justification">The Justification</h2>
<p>After all (as I would justify it to myself), I used to cycle, canoe, run, etc
a lot about 25 years ago. All that fitness would last for ages, and I have a
high metabolism, never had to watch what I eat. Maybe I just had had too many
beers recently—it would all soon sort itself out—I was sure of that!</p>
<p>I had enjoyed sports in school including cross country running, cycling,
canoeing and was in the school rugby team for all my senior years too. This
continued as mainly cycling when I left school. Once I got married in my early
twenties, had children, and spent quite a lot of time travelling for work, my
sports activities soon stopped. This wasn&rsquo;t planned or a conscious decision—it
just happened. After all having young children keeps you active in a different
sort of way, and my job was a busy one—so I never really stopped to think it
over.</p>
<p>Of course I smoked since aged 14 too. That wasn&rsquo;t good—but again as I did lots
of sports this was offset in my mind, and I was young and fit. So should I get
something nasty as a consequence—it would just be one of those unfortunate
life events—so I told myself.</p>
<p>By the time I reached about 38—when smoking became less &lsquo;popular&rsquo;, and
40 was not only an age your Dad had, but one I would get soon too—I did
start to slow the smoking down. What followed was an onslaught of Nicotine
patches, gum, a switch to cigars and back again, only social smoking, only
weekend smoking, etc, which occupied next 10 years. Inevitable I suppose for
an obsessive type person with a nicotine habit, and with plenty of addict
&lsquo;clever&rsquo; excuses —I carried on kidding myself it would all be fine. And
of course, anything was better than 20 a day too!</p>
<p>It didn&rsquo;t matter anyway—I was still young and fit, didn&rsquo;t drink much (very
often) and was otherwise healthy. Basically I thought of myself as <em>one of
the lucky ones</em>—no need to keep fit or be too bothered about health, diet,
weight, or fitness!</p>
<h2 id="the-realisation">The Realisation</h2>
<p>The first rude awakening came at the end of 2009. I woke up with a cricked
neck one morning, and thought little of it. Two weeks later I woke up and my
right arm would not lift up—it had stopped working overnight!</p>
<p>After various tests and MRI scans I had surgery on 14 Dec 2009 for a <a href="http://www.spine-health.com/treatment/spinal-fusion/acdf-anterior-cervical-discectomy-and-fusion" title="'Anterior Cervical Dissectomy Fusion (ACDF) information' - @spine-health.com">anterior
cervical dissectomy fusion (ACDF)</a> and plating, on C4/C5 and C5/6 of my
spine. Three of my neck vertebrae where fused together permanently with a
plate and screws, after two broken disks were taken out, and replaced with
cages and donor bone.</p>
<p>I thought nothing of it too much—I was just glad to have working arm
back!</p>
<p>I was back in work at a new job within five weeks too—very pleased with
my progress. With hind sight (always a great thing!)—this was to catch
me up later and knock me over emotionally nearly six months later—when
it suddenly became real I suppose&hellip;</p>
<p>The second event didn&rsquo;t involved my own health. My wife has a long term
illness called <a href="http://www.nhs.uk/Conditions/lupus/Pages/Introduction.aspx" title="'NHS Choices - Lupus' - @NHS UK Web Site">Lupus</a>—along with a myriad of other related &lsquo;minor&rsquo;
conditions. This condition and its various feast of &lsquo;challenges&rsquo; has been part
of life since just after we married over a quarter of a century ago now! This
obviously caused issues, but none so devastating as when she had a
<a href="http://www.nhs.uk/conditions/stroke/pages/introduction.aspx" title="'NHS Choices - Stroke' - @NHS UK Web Site">stroke</a> in June 2013, and the consequential long term damage it caused.</p>
<p>The immediate impact was to her loss of sight. She maintains some weird patchy
eye sight—called <a href="http://www.eyesearch.ucl.ac.uk/es/es_hemianopia.php" title="'What is hemianopia?' - @UCL Institute of Neurology">Hemianopia</a>, and as a consequence is now
registered <a href="http://www.rnib.org.uk/about-rnib" title="'About the Royal National Institute of Blind People' - @RNIB Web Site">blind</a>—or as it now called these days &lsquo;<a href="http://www.rnib.org.uk/eye-health-registering-your-sight-loss/criteria-certification" title="'Criteria for blind vs partially sighted' - @RNIB Web Site">Severely Sight
Impaired</a>'.</p>
<p>Luckily (that&rsquo;s how we look at it) she primarily only lost her sight—it
could of been worse as many other stroke victims and their families will no
doubt attest too. However, adapting to such a life changing event takes quite
a while—and to be honest the full impact is still playing out in various
ways for her health over two and a half years on!</p>
<p>Someone you love having a stroke in their early forties (she is two years
younger than me), that strips so much of their independence overnight is is a
bit of a cruel joke. It was also another reminder that life is short and
health is not something you can rely on either—despite my previous
personal justifications to the contrary!</p>
<p>It was the above two personal events, as well as a general increase of
information in the media and in work, that made me more and more aware over 18
months or so, that perhaps I should start to consider my own activity levels
more—however obviously my weight and fitness were fine of course!</p>
<h2 id="increase-daily-activitymdashhow-hard-can-that-be">Increase Daily Activity—How Hard Can That Be!</h2>
<p>I was starting to be aware of just how little activity I was doing on a daily
basis. Being a bit of a data and analysis geek, I needed some facts to see
just how inactive or active I actually was. I knew the results would not be
too good—but as usual—I also thought they cant be too bad either! I did
get out of bed in the morning and go to work, and walked about to get coffee
and meals after-all—that was activity!</p>
<p>The first step was when I bought a Fitbit that clipped to my pocket to measure
the steps I was talking each day. This was a very unpleasant surprise. I
would do less than 2,000 steps a day. Fitbit recommended that I should be
doing 10,000. Of course my first thought was that the settings must be wrong,
and 10,000 was for a postman or something. But no—that was a <a href="http://www.nhs.uk/Livewell/loseweight/Pages/10000stepschallenge.aspx" title="'NHS Choices - The 10,000 steps challenge' - @NHS UK Web Site">reasonable
amount</a>, especially for someone who did little else activities wise.</p>
<p>My first steps (excuse the pun) were to try and walk more frequently, so I
used to walk to the shop lunchtimes to buy my sandwich, Kitkat, packet of
crisps, and can of sugary drink. When I could, I parked in the furthest away
car park from the office, take the stairs and so on.</p>
<p>This worked but I still wasn&rsquo;t happy—and felt I should do more. I tried to
run—but hated it.</p>
<h2 id="back-on-the-bike">Back On The Bike</h2>
<p>I decided to try to cycling again—I always enjoyed it, especially road
cycling as opposed to mountain biking. I had a concern that the angle my neck
would need to be in while on the bike might not be sustainable for long
periods of time—so did not want to jump in too hard until I had sussed
this concern out. This would be done with lots of pointless research (with
many tangents), boring the wife with excuses and procrastination, and plans to
some how spend some time on a road bike first to see—just in case, being
sensible about it and all that.</p>
<p>In the end I thought I should just do it, and so I bought a very nice <a href="http://road.cc/content/review/87462-boardman-road-sport" title="'Boardman Road Sport bike review' - @road.cc">Boardman
Road Sport bike</a> from Halfords in mid August 2015.</p>
<p>The first thing I found was my mind was writing checks my body couldn&rsquo;t cash!!</p>
<p>I decided to ride the new bike home from the shop. I live in a hilly area, and
the shop is at approximately sea level, and I live on a hill a few miles away.
No problem—I used to cycle around this area as a kid, so how hard can it
be for a man to do the same hills on a super modern and light road bike&hellip;</p>
<p>I set off from the shop having got a lift there from my son in his car. I
first had to figure out the strange gear changing mechanism—some bright
spark has now integrated this into the brake levers—what happened to the
good old <a href="https://en.wikipedia.org/wiki/Shifter_(bicycle_part)" title="'Bicycle Gear Shifters' - @wikipedia">down tube shifters</a> of my day? Down tube shifters are now classed
as <em>vintage</em> apparently</p>
<blockquote>
<p><strong>vintage</strong></p>
<p><em>noun</em>
the time that something of quality was produced.
<em>&ldquo;rifles of various sizes and vintages&rdquo;</em>
synonyms:	period, era, epoch, time, origin;</p>
</blockquote>
<p>Say no more I guess.</p>
<p>Also the bike is so light too, so concerns about it snapping were in the back
of my mind, and as it was so light, questions about had I overdone it, and
bought something that was way out of my league&hellip;</p>
<p>After about a mile of downhill/flat progress, and further ongoing amazement and
familiarisation with the bike—while travelling along on the other new modern
cycling feature called a <em>cycle path</em>—I arrive at the first hill&hellip;</p>
<p>I hit the first hill hard, due to my obvious considerable past cycling
experience and form, that I undoubtedly still had hidden away—it just
needed unleashing on modern times. Soon (like very soon) heavy breathing
kicked in, vision started getting duller, and then become more tunnel like,
and the horrific burning pain in my leg muscles started!</p>
<p>I pushed on, with Tour De France TV replays going on in my head with me
winning a climb up <a href="https://en.wikipedia.org/wiki/Alpe_d%27Huez" title="'Alpe d'Huez' - @Wikiedia">Alpe d&rsquo;Huez</a>, while setting personal goals of <em>just to
the next lamppost</em>.</p>
<p>Three quarters of the way up I seriously considered phoning a ambulance at one
point—which was a little scary and a major reality check on just how
extremely unfit I actually was!</p>
<p>I stopped opposite a police station—to drink and rest for a minute,
hoping they might notice a collapsed cyclist out of the window should the
worst happen. Eventually having downed a litre of water I decided to set off
again&hellip; how hard can it be!</p>
<p>Making it across the roundabout (approx 250 meters on) I felt even worse, and
was forced to pull over. Now not even standing up felt good, so time to rest
the bike against a tree and sit on the nearest kerb. Feeling dizzy and sick, my
heart pounding, head throbbing, and feeling disconnected from reality, I
thought the last thing I should do is suddenly just stop—or the rest of
my body might get the same idea!  So with a sudden rush of adrenaline at the
thought of dying at the side of the road on my first bike ride in 20 years,
the elite racing machine and I made our way up the rest of the hill, me on
foot!</p>
<p>I ended up walking with bike up the rest of the hills, and just rode back home
on the flat bits only. All those miles and rides I had planned in my head were
placed to one side as I realised that it would be months before I would be able
to cycle them. Also I had always prided myself in <strong>never</strong> getting off and
pushing a bike up a hill, so this was a real downfall of my ego and past
capabilities too.</p>
<h2 id="making-progress">Making Progress</h2>
<p>From the ride home from the bike shop I decided to do short but frequent bike
rides (3 miles, then rising up to 7 miles). I also discovered <a href="https://www.strava.com/athletes/10691628" title="'Simon Rowe - Strava *athlete* page' - @Strava">Strava</a>,
which allowed me to keep records of my activities, and track improvements. I
bought a heart rate monitor, to give me confidence that I wasn&rsquo;t over doing
it—like I did on the ride back from the bike shop!</p>
<p>Winter was approaching—which for me was the first sign of rain at the
start of October. The justification to myself (and signed off by the wife too
of course, once she was bored of hearing about the <em>plans</em>) was:</p>
<ul>
<li>no winter cycling gear or the extra cost of buying it;</li>
<li>the dangers of falling off due to excessive leaves and eventually
ice and/or snow;</li>
<li>no mud guards to protect the elite cycling machine and my nice new cycling
shoes.</li>
</ul>
<p>Plus my now highly tuned cycling muscles would not perform as well in the
cold winter air. Of course all the above could also reduce my considerable
Strava performance and credibility, and growing reputation as a force to be
reckoned with on my local 7 mile ride via the local Porthkerry Park route I had
become a <em>tour de force</em> on.</p>
<blockquote>
<p><strong>tour de force</strong></p>
<p><em>noun</em>
a performance or achievement that has been accomplished or managed with great
skill.</p>
</blockquote>
<p>My longest single ride before I came indoors for the <em>winter</em> was approx. 15.9
miles, but I was then also averaging 30 miles a week—which I was very
pleased with. On Strava I could also see regular improvements on sections of
my ride (called segments on Strava)—and this gave me encouragement to
keep improving too.</p>
<p>My cycling continued to progress, and between mid August 2015 and end of
October 2015 I had started to feel fitter and the fear of keeling over had
passed. I was making steady improvements on my weekly mileage goals, and
attacking hills on my 7 mile morning route with newly found vigour. I had
re-found my cycling passion—and was enjoying it—with the side
benefit of fitness!</p>
<p>Once the winter was approaching—knowing I did not fancy riding in the
rain and cold, I bought some rollers to ride on indoors. I did the usual
lengthy research first of course! As I had already spent enough money to fund a
small countries cycling team, the compromise (signed off by the wife/household
Financial Director) was to get the rollers—as they were &lsquo;cheaper&rsquo; and
offered better fitness benefits too (apparently).</p>
<p>These I have nick named the &lsquo;<strong>rollers of doom</strong>&rsquo; as they are hard to balance
on—and I have already fallen off once, badly bruising one side of my body
and knocking a whole into the plaster board wall of my dinning room! They also
have an uncomfortable side effect in my gentleman area—causing
numbness—but that is a story for another time perhaps&hellip; They also (as I
have a fear of impending visits to a fracture clinic while ridding them) stop
you from drinking water, moving your hands from the handlebars (unless you
slide them very carefully), and that&rsquo;s nothing when compared with the lactic
build up pain and boredom—despite trying to distract yourself with
the TV.</p>
<p>I was hopeful that my roller skills would improve during the winter&hellip; but
again the move to the winter training camp (also called <a href="http://zwift.com/" title="'Zwift - ride on!!' - @GoZwift">Zwift Island</a> by
most people) is another story too.</p>
<h2 id="it-turns-out-youre-fat">It Turns Out You&rsquo;re Fat</h2>
<p>Almost three months in, I was starting to find out how to improve my cycling
performance. No longer did I need an ambulance to be on standby whenever I
went for a ride, and I had discovered my maximum heart rate a few
times—sprinkled with more than enough algorithms for finding out what
it actually should be set to in my Garmin—but that is another story as
well!</p>
<p>Looking on <a href="https://www.strava.com/athletes/10691628" title="'Simon Rowe - Strava *athlete* page' - @Strava">Strava</a> to compare my times over segments against the hundreds of
other local cyclists, my times were very slow. Of course I believed that most
of them must be using mopeds to get such good times—however, I should
still be able to get better times up hills I was ridding, without getting all
Lance Armstrong over it&hellip;</p>
<p>Time to do more research and chuck a mountain of data at myself—cadence,
heart rate, carbon fibre, muscles, diet, lifestyle, bike components, clothing,
power meters, tyre size, gear choice, bike choice, fitness, and weight.</p>
<p>Checking the weight area in more detail—mainly just to tick it off the
list, as only a <a href="http://www.teamsky.com/teamsky/home" title="'Team Sky cycling team' - @TeamSky">Team Sky</a> type <em>marginal gain</em>, I found out that I was
now in fact a fat person!! <strong>WTF</strong></p>
<p>My <a href="http://www.nhs.uk/Tools/Pages/Healthyweightcalculator.aspx" title="'NHS Choices - BMI Calculator' - @NHS UK Web Site">Body Mass Index (BMI)</a> was well into the &lsquo;Overweight&rsquo; category on the
NHS Choices web site—and looking at other second opinions, I was indeed
classed as an overweight person. Oh dear!</p>
<p>Time for another project to start during the indoor cycling months—loose
weight.</p>
<p>From the end of October 2015 until March 2016 I have been learning about
dieting, protein, fats, carbohydrates, and Calories. It has done me some
good—I am now approximately 22lbs lighter (which is 1.5 stone or just
under 10Kgs). I hate to think what I weighed when I started cycling three
months before I discovered my new fatty label in life!</p>
<p>Other things I have learnt about (apart from dieting) are on subjects such as
power meters, heart rate monitors, fitness watches, indoor riding, smart
trainers, Zwift Island, Traineroad, different bike types, what is new in
cycling compared to 20 years ago, food types, cycling related books, YouTube
Channels, training approaches, fasted training, cleats and clothes, and of
course plenty of self inflicted lactate induced pain!!</p>
<p>All in the name of good fun of course.</p>
<h2 id="conclusion">Conclusion</h2>
<p>There is nothing that quite provides so much fun for friends and family as an
obsessive detail orientate person getting a new hobby!</p>
<p>Some quick noob cycling related tips I have already learnt:</p>
<ul>
<li>Carbon grip paste is not the same as Vaseline;</li>
<li>Correct seat height is important—and make sure you measure it correctly
before you ride nearly everyday for two months on a new bike;</li>
<li>Related to the above—don&rsquo;t become obsessive about goniometer measurements;</li>
<li>Don&rsquo;t train too hard or you will go backwards in your power output;</li>
<li>Carb loading is not about eating loads of sweats and chocolate cake;</li>
<li>When riding on rollers - don&rsquo;t assume a dinning room chair will act as a
good barrier to falling off;</li>
<li>There are loads of crazy views on cycling and health on the internet—not
all are true either.</li>
</ul>
<p>Hopefully I will find time to share some more ramblings on these others areas,
and add them here.</p>
<p>For now I have three weeks of <a href="http://www.cyclingweekly.co.uk/" title="'Cycling Weekly' - @cyclingweekly magazine">Cycling Weekly</a> magazine to catch up on&hellip;</p>
<h2 id="article-links">Article Links</h2>
<p>Below is a list of links referenced in the article above:</p>
<ul>
<li><a href="http://www.spine-health.com/treatment/spinal-fusion/acdf-anterior-cervical-discectomy-and-fusion">http://www.spine-health.com/treatment/spinal-fusion/acdf-anterior-cervical-discectomy-and-fusion</a> &ldquo;&lsquo;Anterior Cervical Dissectomy Fusion (ACDF) information&rsquo; - @spine-health.com&rdquo;</li>
<li><a href="http://www.nhs.uk/Conditions/lupus/Pages/Introduction.aspx">http://www.nhs.uk/Conditions/lupus/Pages/Introduction.aspx</a> &ldquo;&lsquo;NHS Choices - Lupus&rsquo; - @NHS UK Web Site&rdquo;</li>
<li><a href="http://www.nhs.uk/conditions/stroke/pages/introduction.aspx">http://www.nhs.uk/conditions/stroke/pages/introduction.aspx</a> &ldquo;&lsquo;NHS Choices - Stroke&rsquo; - @NHS UK Web Site&rdquo;</li>
<li><a href="http://www.eyesearch.ucl.ac.uk/es/es_hemianopia.php">http://www.eyesearch.ucl.ac.uk/es/es_hemianopia.php</a> &ldquo;&lsquo;What is hemianopia?&rsquo; - @UCL Institute of Neurology&rdquo;</li>
<li><a href="http://www.rnib.org.uk/about-rnib">http://www.rnib.org.uk/about-rnib</a> &ldquo;&lsquo;About the Royal National Institute of Blind People&rsquo; - @RNIB Web Site&rdquo;</li>
<li><a href="http://www.rnib.org.uk/eye-health-registering-your-sight-loss/criteria-certification">http://www.rnib.org.uk/eye-health-registering-your-sight-loss/criteria-certification</a> &ldquo;&lsquo;Criteria for blind vs partially sighted&rsquo; - @RNIB Web Site&rdquo;</li>
<li><a href="http://www.nhs.uk/Livewell/loseweight/Pages/10000stepschallenge.aspx">http://www.nhs.uk/Livewell/loseweight/Pages/10000stepschallenge.aspx</a> &ldquo;&lsquo;NHS Choices - The 10,000 steps challenge&rsquo; - @NHS UK Web Site&rdquo;</li>
<li><a href="http://road.cc/content/review/87462-boardman-road-sport">http://road.cc/content/review/87462-boardman-road-sport</a> &ldquo;&lsquo;Boardman Road Sport bike review&rsquo; - @road.cc&rdquo;</li>
<li><a href="https://en.wikipedia.org/wiki/Shifter_(bicycle_part)">https://en.wikipedia.org/wiki/Shifter_(bicycle_part)</a> &ldquo;&lsquo;Bicycle Gear Shifters&rsquo; - @wikipedia&rdquo;</li>
<li><a href="https://en.wikipedia.org/wiki/Alpe_d%27Huez">https://en.wikipedia.org/wiki/Alpe_d%27Huez</a> &ldquo;&lsquo;Alpe d&rsquo;Huez&rsquo; - @Wikiedia&rdquo;</li>
<li><a href="https://www.strava.com/athletes/10691628">https://www.strava.com/athletes/10691628</a> &ldquo;&lsquo;Simon Rowe - Strava <em>athlete</em> page&rsquo; - @Strava&rdquo;</li>
<li><a href="http://zwift.com/">http://zwift.com/</a> &ldquo;&lsquo;Zwift - ride on!!&rsquo; - @GoZwift&rdquo;</li>
<li><a href="http://www.teamsky.com/teamsky/home">http://www.teamsky.com/teamsky/home</a> &ldquo;&lsquo;Team Sky cycling team&rsquo; - @TeamSky&rdquo;</li>
<li><a href="http://www.nhs.uk/Tools/Pages/Healthyweightcalculator.aspx">http://www.nhs.uk/Tools/Pages/Healthyweightcalculator.aspx</a> &ldquo;&lsquo;NHS Choices - BMI Calculator&rsquo; - @NHS UK Web Site&rdquo;</li>
</ul>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="http://www.wiremoons.com/posts/2016-02-20-ubuntu-pre-compiled-kernel-upgrade/">Ubuntu Pre Compiled Kernel Upgrade</a></h1>
        <span class="post-date">Feb 20, 2016</span>
        <h1 id="ubuntu-pre-compiled-kernel-installation">Ubuntu Pre-Compiled Kernel Installation</h1>
<h2 id="about">About</h2>
<p>If you are not familar with Ubuntu - a good overveiw of this execellent free
operating system&rsquo;s features can be found here: <a href="http://www.ubuntu.com/desktop/features">Ubuntu</a></p>
<p>The instructions below are for obtaining and installing a pre-compiled Ubuntu
kernel, from the <a href="http://kernel.ubuntu.com/">ubuntu.com kernel web site</a>.</p>
<p>The instructions explain how a computer already running the Ubuntu operating
system can use the latest Ubuntu kernel available from the Ubuntu Kernel web
site.</p>
<p>The kernels are provided by the Ubuntu community, and are pre-compiled for you</p>
<ul>
<li>so all you have to do is download and install the one you want.</li>
</ul>
<p>This approach will often let you enjoy the latest Linux kernel features and
obtain any performance improvements included - without having to wait for your
Ubuntu distribution release to be updated first, or go through the compile
process yourself!</p>
<p>These kernels include the Ubuntu specific features and patches, but are built
using the mainstream Linux Kernel source code also - so the best of both
worlds if you are a Ubuntu user.</p>
<p>Obviously bear in mind that these kernels are installed at your own risk - so
if you have doubts about doing this, it is probably best to wait until the
newer kernel is included as part of a software update, or newer Ubuntu
release.</p>
<p>I choose this route as I needed a number of newer kernel fixes to ensure my
Microsoft Surface Pro 3 Type Cover keyboard worked properly, and as a
consequence I also obtained newer kernel features and improvements too! I did
not fancy going through the compile process myself - as it takes a little while
to compile a Linux Kernel on the Surface Pro 3 computer, and this method is
practically instant.</p>
<p>As a sideline - the <a href="https://www.reddit.com/r/surfacelinux">Reddit Surface
Linix</a> pages are a great source of
support and information for running Linux on this particular hardware.</p>
<h2 id="obtaining-the-ubuntu-kernel">Obtaining the Ubuntu Kernel</h2>
<p>The Ubuntu kernel needs to be downloaded from the Ubuntu web site located
<a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/">here</a>:</p>
<pre><code>» http://kernel.ubuntu.com/~kernel-ppa/mainline/
</code></pre>
<p>Scroll down the above web page to locate the kernels available for your
current distribution (ie Ubuntu 15.10 is called &lsquo;Wily&rsquo;), and then select the
highest kernel version you want to use. Note that some of the kernels provided
are &lsquo;release candidates&rsquo; - identified by &lsquo;rc&rsquo; in their names. Choose a non
&lsquo;rc&rsquo; version if you need stability over the very newest features and of course
potential bugs.</p>
<p>For example the latest Wily (Ubuntu 15.10) kernel version 4.4 can be found in
the directory <a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/v4.4-wily/">here</a> at the time of writing:</p>
<pre><code>» http://kernel.ubuntu.com/~kernel-ppa/mainline/v4.4-wily/
</code></pre>
<p>Additional higher versions will be added from time to time, so check for
additional v4.4.x kernel versions as needed.</p>
<p>Once in the correct directory for the kernel version that you have chosen to
use, you will see a selection of files. If you want to know what improvements
and fixes the particular kernel version includes, then look in the file
called: &lsquo;CHANGES&rsquo;. There is also a file called &lsquo;README&rsquo; in each directory too</p>
<ul>
<li>that contains additional helpful information.</li>
</ul>
<p>If you wish to proceed with trying this particular kernel on your own
computer, you need to download the following three &lsquo;.deb&rsquo; files for each
kernel installation - assuming you don&rsquo;t need any of the alternative
specialised kernels of course!</p>
<p>The computer used in the example described below is a Microsoft Surface Pro 3,
which is a 64bit computer and is running Ubuntu Wily 15.10 64 bit operating
system. Your own needs may differ - if the generic kernel is unsuitable to your
own use case or computer hardware, then select the corresponding alternative
files to those presented here - the overall process is the same though.</p>
<p>Note that in the file names shown below, the &lsquo;xxxx&rsquo; element is the version
number of the kernel - so it will vary based on your own kernel version number
selection.</p>
<p>The files to download are:</p>
<p>The Linux headers specific to you machine type (ie amd64) and kernel
usage (ie generic) - so file &lsquo;linux-header-xxxx-generic-amd64.deb&rsquo;:</p>
<pre><code>» linux-headers-4.4.0-040400-generic_4.4.0-040400.201601101930_amd64.deb
</code></pre>
<p>The &lsquo;linux-headers-xxxx-all.deb&rsquo; which is generic to any of the other
two files listed here (ie the other headers and image files):</p>
<pre><code>» linux-headers-4.4.0-040400_4.4.0-040400.201601101930_all.deb
</code></pre>
<p>The Linux kernel image file is the third file needed, so to match the above
files already downloaded, obtain &lsquo;linux-image-xxxx-amd64.deb&rsquo; - again specific
to your machine (ie amd64):</p>
<pre><code>» linux-image-4.4.0-040400-generic_4.4.0-040400.201601101930_amd64.deb
</code></pre>
<p>The above three files are needed for each Linux Kernel upgrade on a 64bit
generic computer.</p>
<p>Download them and put them in their own directory on your computer, so they
don&rsquo;t get mixed up with other similar kernel versions and files you may have
already downloaded.</p>
<h2 id="install-the-new-kernel">Install the New Kernel</h2>
<p>Once the three files are obtained, you can install the newly downloaded kernel
<code>.deb</code> files (ie see instructions above). The three files obtained that are
required for each upgrade are:</p>
<pre><code>» linux-headers-4.4.0-040400-generic_4.4.0-040400.201601101930_amd64.deb
» linux-image-4.4.0-040400-generic_4.4.0-040400.201601101930_amd64.deb
» linux-headers-4.4.0-040400_4.4.0-040400.201601101930_all.deb
</code></pre>
<p>These can be installed with the command line below - where the three files are
the only ones on the current directory of course:</p>
<pre><code>» sudo dpkg -i linux-headers* linux-image*
</code></pre>
<p>If after installing the kernel using the above command, there are dependency
issues reported, you can run the following command to try to fix them:</p>
<pre><code>» sudo apt-get -f upgrade
</code></pre>
<p>You will also need to update update Grub to ensure the computer boots
from the the new kernel with the command:</p>
<pre><code>» sudo grub-install
</code></pre>
<p>You should now be able to reboot and test your new kernel installation!</p>
<p>Once you reboot your computer you can check what kernel version it is running
with the command:</p>
<pre><code>» uname -a
</code></pre>
<h2 id="fixing-issues-with-boot-problems">Fixing Issues with Boot Problems</h2>
<p>Hopefully the above process runs well, and your computer runs the newly
installed kernel without issue.</p>
<p>Before you install however, you should really familiarise yourself with howto
fixing Ubuntu boot problems - just in case! This information is worth knowing
anyway&hellip;</p>
<p>The Techradar web site has a good article which maybe of interest <a href="http://www.techradar.com/how-to/computing/how-to-boot-repair-ubuntu-1315203">Techradar -
How to repair Ubuntu if it won&rsquo;t
boot</a></p>
<p>There are of course plenty of other helpful resources on the internet too
should you run into problems - just search on
<a href="https://www.google.co.uk/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=ubuntu%20boot%20failure">Google</a>
for solutions!</p>
<h2 id="updated-information---wily-kernel-443">Updated Information - Wily Kernel 4.4.3</h2>
<p>On the 25 feb 2016 a new version of the Wily-4.4.x Ubuntu kernel was made
available as
<a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/v4.4.3-wily/">v4.4.3-wily</a>.</p>
<p>Based on the artcile above (ie to suit a 64bit generic kernel requirement) I downloaded the
following files:</p>
<ul>
<li><a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/v4.4.3-wily/linux-headers-4.4.3-040403-generic_4.4.3-040403.201602251634_amd64.deb">linux-headers-4.4.3 generic</a></li>
<li><a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/v4.4.3-wily/linux-headers-4.4.3-040403_4.4.3-040403.201602251634_all.deb">linux-headers-4.4.3 all</a></li>
<li><a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/v4.4.3-wily/linux-image-4.4.3-040403-generic_4.4.3-040403.201602251634_amd64.deb">linux-image-4.4.3 generic</a></li>
</ul>
<p>Save the above three files in a directory on there own, and then run the
following command in the Ubuntu Terminal, in that directory:</p>
<pre><code>sudo dpkg -i linux-headers* linux-image*
</code></pre><p>Once the new Ubuntu Kernel files where installed, I then ran the following two
commands (just as a precation) - but no additional packages were installed on my
particular system - that may vary for yours of course!:</p>
<pre><code>sudo apt-get -f upgrade
sudo grub-install
</code></pre><p>Follow the other steps in the main article above if you need more information.</p>
<p>The are a significant number of patches and files in this v4.4.3 kernel - as
listed in the accompanying
<a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/v4.4.3-wily/CHANGES">CHANGES</a>
file.</p>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="http://www.wiremoons.com/posts/2015-07-12-new-text-editors-for-all/">New Text Editors for All</a></h1>
        <span class="post-date">Jul 12, 2015</span>
        <h2 id="new-text-editors-for-all">New Text Editors for All</h2>
<h2 id="summary">Summary</h2>
<p>The most popular text editors have been <a href="http://www.vim.org/">Vim</a> (or
Vi) and <a href="https://www.gnu.org/software/emacs/">Emacs</a> for many
years. Many an Internet flame-war has taken place over the virtues,
differences, and capabilities of each editor, over the other. New
&lsquo;<em>easier</em>&rsquo; text editors have appeared too, and some have stayed
around - such as <a href="http://www.nano-editor.org/">Nano</a> that ships
with just about all Linux distros.</p>
<p>Now there is a new set of text editors, all looking similar, all offering
something new, all cross platform, and so on—and the reason?</p>
<h2 id="so-what-is-it-about-text-editors">So What Is It About Text Editors?</h2>
<p>While I believe there will always be a need to have a good text editor that you
are comfortable with, that is minimal, but powerfull too—for those times
you need to use the command line. There is also an equal place for editors that
run in Graphical User Environments (GUI) too. At the end of the day, a computer
is a tool to do something with (be that for pleasure or work) and ensuring it
therefore provides software &lsquo;<em>fit for purpose</em>&rsquo; is very important.</p>
<p>I have tried a lot of text editors over the years and have settle on
Emacs (yes - I like some features in Vim too!). I have also been a paid up
user of <a href="http://www.sublimetext.com/">Sublime Text 2</a> since 2012. I
use Sublime Text in Windows on a daily basis (work and home), but also
use it on Linux, and in the past on Macs.</p>
<p>Emacs on the Mac and Linux is great—but never quite felt right on
Windows for some reason&hellip; The fact I only use the terminal version
(ie <code>emacs -nw</code>) probably has something to do with this though.</p>
<p>There has been the &lsquo;<em>great wait</em>&rsquo; for Sublime Text 3, and this continues at the
time of writing. Visit the Sublime Text web site user forums if you
wish—and read the continuing gripes and complaints, even threats, all from
disgruntled and frustrated users. For commercial software, it is very odd that a
developer (who has basically taken a large lump of the market share) lets
their nice product fade away! People are impatient, especially those involved in
technology (generally), and they will soon move to alternatives if progress or
perceived progress stalls.</p>
<p>I use <a href="http://www.lynda.com/">Lynda.com</a> for keeping up to date with
technology, photography courses, and anything else that takes my
fancy. Looking at the courses they have for text editors, is an
interesting side line barometer for what is popular maybe?</p>
<p>After all Lynda&rsquo;s courses are only created to make money at the end of
the day, like all businesses. So it is a sensible decision they make
to ensure they have courses for popular software and interests. They
have a healthy open source software stance (ie showing 203 courses for
&lsquo;<em>opensource</em>'), and it is refreshing to see a &lsquo;<em>main stream</em>&rsquo;
Computer Based Training (CBT) provider covering all types of
software—with courses such as:</p>
<ul>
<li><a href="http://www.lynda.com/Wireshark-tutorials/Troubleshooting-Your-Network-Wireshark/366447-2.html">Troubleshooting Your Network with Wireshark</a></li>
<li><a href="http://www.lynda.com/course-tutorials/GIMP-Essential-Training/112673-2.html">GIMP Essential Training</a></li>
<li><a href="http://www.lynda.com/Git-tutorials/Git-Essential-Training/100222-2.html">Git Essential Training</a></li>
<li><a href="http://www.lynda.com/Fedora-tutorials/Up-Running-Fedora-Linux/159632-2.html">Up and Running with Fedora Linux</a></li>
<li><a href="http://www.lynda.com/Ubuntu-tutorials/Up-Running-Ubuntu-Desktop-Linux/159637-2.html">Up and Running with Ubuntu Desktop Linux</a></li>
<li><a href="http://www.lynda.com/CentOS-tutorials/Up-Running-CentOS-Linux/159633-2.html">Up and Running with CentOS Linux</a></li>
</ul>
<p>There are many more too! Shame there is nothing for Golang
(yet?)—but plenty for many of the other programming languages
though! Looking forward to the <a href="https://www.archlinux.org/">Arch Linux</a> course though&hellip; LOL</p>
<p>So, of the popular editors we mentioned above, which have training courses available?</p>
<p>I found the following:</p>
<ul>
<li><a href="http://www.lynda.com/nano-tutorials/Up-Running-nano/189067-2.html">nano - &lsquo;Up and Running with nano&rsquo;</a></li>
<li><a href="http://www.lynda.com/vi-tutorials/Up-Running-vi/170336-2.html">Vi - &lsquo;Up and Running with vi&rsquo;</a></li>
<li><a href="http://www.lynda.com/Sublime-Text-tutorials/Up-Running-Sublime-Text-2/114325-2.html">Sublime - &lsquo;Up and Running with Sublime Text 2&rsquo;</a></li>
</ul>
<p>There are no equivalent dedicated courses for Emacs though :(</p>
<p>So the above is a bit of a tangent, and what really was interesting me
was the new text editors appearing, which so far I have
noticed includes:</p>
<ul>
<li><a href="https://atom.io/">Atom - from GitHub</a></li>
<li><a href="http://nuclide.io/">Nuclide - from Facebook</a></li>
<li><a href="http://brackets.io/">Brackets - from Adobe</a></li>
<li><a href="https://code.visualstudio.com/">Visual Studio Code (VSCode) - from Microsoft</a></li>
</ul>
<p>Of all the above—what is striking to me is the similarities!</p>
<p>If you saw a group of screen shots, you might be hard pressed to notice the
differences. It is refreshing to have so much &lsquo;free&rsquo; choice though, and
available for any mainstream operating system too!!</p>
<p>They all look similar, but they all pitch their purpose or use slight
differently too. From developers editor, Integrated Development Environment
(IDE), embracing open source editors, web developers editor, and so on.</p>
<p>I am not compaining—it is great to have such choice, and from what I have
seen—great functional software too!  With this kind of eco system and
&lsquo;<em>frendly</em>&rsquo; open source competition, it will be nice to see what innervations we
end up with, and what the new &lsquo;<em>baseline</em>&rsquo; GUI text editor will needs to have,
to be acceptable going forward. The healthy mix of community and large corporate
companies being involved is great too!</p>
<p>Also, I dont think they are a threat to existing command line editors, but
hopefully will be another driving force for them. As the new editor baseline is set, so
other existing programs will also adapt, as users want what they are
used too!</p>
<h3 id="so-what-i-am-i-using">So What I Am I Using?</h3>
<p>So far, of the above I have tried VSCode and Atom.</p>
<p>I liked VSCode, but only switched to Atom due to the current license confusion,
that I guess won&rsquo;t be sorted out until it comes out of beta. Also I was sure if
it includes any spyware—similar to that you get of you are a beta tester
for Windows 10&hellip; See <a href="http://www.gnu.org/proprietary/proprietary-surveillance.en.html">GNU Proprietary
Surveillance</a>
page for a bit more information on this area.</p>
<p>I have now moved to Atom, and I like it too. I havent used Sublime
Text in a while now, and doubt I will go back—there is no
reason too, that I can think of. I have yet to install Atom on Linux and use
it (another job for the todo list!), but my son is happily using Atom
on his Apple Macs now, and has also switched from Sublime Text.</p>
<p>There are lots of reviews of Atom all over the internet, a couple I
have enjoyed and found useful are included below. The Atom version 1.0
release video is quite funny and worth watching too!</p>
<p>Another text editor I have been keeping an eye on, that looks similar
to all the others, but in fact is written in Go (Golang) instead of
using <a href="http://www.nodejs.org/">Node.js</a> based technologies—which
I believe all the above editor do in one way or another.</p>
<p>This editor is called <a href="http://limetext.org/">Lime Text</a>. It&rsquo;s stated goal is:</p>
<blockquote>
<p>We want to bring you an Open Source text editor with great
capabilities, as a successor to Sublime Text.</p>
<p>&ndash; <!-- raw HTML omitted -->Lime Text Blog Article: &lsquo;We now have a Website!&rsquo; — 27 Nov 2013<!-- raw HTML omitted --></p>
</blockquote>
<p>A full list of Lime Text&rsquo;s opensource <a href="https://github.com/limetext/lime/wiki/Goals">projects
goals</a> are also available.</p>
<p>So there we are—interesting times for the good old text editor!</p>
<h3 id="other-resources">Other Resources</h3>
<ul>
<li><a href="https://youtu.be/Y7aEiVwBAdk">Atom Release 1.0 Video (on Youtube)</a></li>
<li><a href="http://marcio.io/2015/07/supercharging-atom-editor-for-go-development/">&lsquo;Supercharging the Atom Editor for Go Development&rsquo; - by Marcio Castilho</a></li>
<li><a href="http://blog.daniel-klose.com/technology/atom-editor-for-sublime-text-users/">&lsquo;Atom Editor for Sublime Text Users&rsquo; - by Daniel Klose</a></li>
</ul>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="http://www.wiremoons.com/posts/2015-01-22-easy-passwords-everywhere/">Easy Passwords Everywhere</a></h1>
        <span class="post-date">Jan 22, 2015</span>
        <h2 id="easy-passwords-everywhere">Easy Passwords Everywhere</h2>
<h2 id="summary">Summary</h2>
<p>The internet news of two days ago (20 Jan 2014) was all about the
terrible passwords being used in 2014 for protecting access to online
services. The news originated from a press release posted the password
management company SplashData.</p>
<p>The most commonly used top 10 poor passwords were:</p>
<ol>
<li>123456</li>
<li>password</li>
<li>12345</li>
<li>12345678</li>
<li>qwerty</li>
<li>123456789</li>
<li>1234</li>
<li>baseball</li>
<li>dragon</li>
<li>football</li>
</ol>
<p>These passwords were obtained by looking at the reams of leaked
password lists (over 3 million passwords) that are available on the
internet, published following security breaches at various
companies. While the leaking of a persons password is unfortunate, it
does give an insight into the continued poor password choices being
made by individuals to protect their online assets.</p>
<h2 id="a-solution">A Solution?</h2>
<p>What is common to all the passwords shown in the list, is that they
are all easy to remember! This is probably why they were chosen in the
first place. People don&rsquo;t want to have complex passwords that they
can&rsquo;t easily remember, and have to look up constantly. It is a case of
convenience over risk.</p>
<p>Also as pointed out in an earlier post I made
<a href="http://www.wiremoons.com/posts/2014-12-09-Three-Letter-Word-Passwords">2014-12-09-Three-Letter-Word-Passwords</a>,
the requirements to make a password &lsquo;complex&rsquo; are misunderstood.</p>
<p>A password should only be complex for a computer to break — but not
necessarily for a human to remember. These are two different
requirements often merged into one concept.</p>
<p>This means not making it easy by using normal dictionary words(ie
password; qwerty; baseball; dragon; football) — as a computer can
check these extremely fast, making them pretty much useless. Also,
using the simple substitutions for letters such as &lsquo;p@55word&rsquo; instead
should be avoided, as once again these are so well known, they can
easily be checked by a computer also, using the large dictionary word
list, and just tweaking it with these substitutions too!</p>
<p>So we need an easy to remember password without using a single dictionary
word?</p>
<p>Well humans aren&rsquo;t too good at remembering long numbers either, so how
about a selection of small words?</p>
<p>These small words together make up a nonsense word for a computer, and
therefore it has to check all combination to work the actual password
being used. However, passwords made up of small easy to remember words
are not too hard for us recall, and we are able to pick out the
individual words (<a href="http://bigthink.com/endless-innovation/humans-are-the-worlds-best-pattern-recognition-machines-but-for-how-long">human pattern recognition is actual very very
good!</a>)
— thus offering a much better password, and one that makes it easier
to remember as well.</p>
<p>You can have a look at two programs I have written —  both available from my GitHub account.
One is written in c, and the other using Go. They both carry out the same
task in offering a randomly generated password using a dictionary of over 1,000 three letter
English words. Maybe they will help create a more secure password for you to use&hellip;</p>
<p>They were written for fun, and for my own personal use, and they are both Open-source and free!</p>
<ul>
<li><a href="https://github.com/wiremoons/sugpass">sugpass - &lsquo;Suggest Password - program written in c&rsquo;</a></li>
<li><a href="https://github.com/wiremoons/passgen">passgen - &lsquo;Password Generate - program written in Go&rsquo;</a></li>
</ul>
<h2 id="referenced-sites">Referenced Sites</h2>
<p>A few of the sites with 2014 common password lists and news articles:</p>
<ul>
<li><a href="http://splashdata.com/press/worstpasswords2013.htm">splashdata - &lsquo;&ldquo;Password&rdquo; unseated by &ldquo;123456&rdquo; on SplashData&rsquo;s annual &ldquo;Worst Passwords&rdquo; list&rsquo;</a></li>
<li><a href="http://time.com/3672431/worst-passwords/">Time - &lsquo;These are the 25 worst passwords of 2014&rsquo;</a></li>
<li><a href="http://mashable.com/2015/01/20/worst-passwords-of-2014/">Mashable Uk - &lsquo;Worst passwords of 2014 are just as terrible as you&rsquo;d think&rsquo;</a></li>
</ul>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="http://www.wiremoons.com/posts/2014-12-09-three-letter-word-passwords/">Three Letter Passwords</a></h1>
        <span class="post-date">Dec 9, 2014</span>
        <h2 id="three-word---password-generator">Three Word - Password Generator</h2>
<h2 id="summary">Summary</h2>
<p>I recently created a simple application named uniquely as <code>passgen</code>
which was written to generate a random password created from a pool of
English three letter words. This gave me a small Golang project to
work on, and also to create a handy tool to generate strong passwords.</p>
<h3 id="how-does-it-work">How Does it Work?</h3>
<p>This application generates password suggestions based on a pool of
several hundred three letter English words. The words are selected
from the pool randomly, and then displayed to the screen so you can
choose one for use as a very secure password.</p>
<p>It is important that you combine the three letter words together to
form a single string of characters (without the spaces)—to
obtain a password with a minimum length on 9 characters. Longer
combinations are stronger, but unfortunately not all sites or computer
systems accept really long passwords still.</p>
<p>You can of course add digits/numbers to your password also, and
punctuation characters too if you wish—but it would be wiser to
keep the password simple, and easy to remember, but change it more
frequently instead, using a fresh newly generated one every few weeks.</p>
<p>An example of the output from the program is below:</p>
<pre><code>            THREE WORD - PASSWORD GENERATOR
            ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯
• Number of three letter words available in the pool is: 573
• Number of three letter words to include in the suggested password is: 3
  • Password character length will therefore be: 9
• Mixed case passwords to be provided: false
• Offering 3 suggested passwords for your consideration:

   din wry ran
   ova ram lit
   ski yea koa

All is well
</code></pre><h3 id="are-these-passwords-secure">Are These Passwords Secure?</h3>
<p>While the passwords generated look far too simple and easy to be
secure, they are in fact very secure, and difficult to crack. Just
because they look simple to a human—it doesn&rsquo;t mean they are
simple to work out using a computer. They are in fact quite hard to
work out for a computer, as they are random, not a single dictionary
word, or a single common name (with perhaps number substitutions and
other common &lsquo;complex&rsquo; combinations)—or some combination of
these approaches.  It is a common misconception that a password has to
be &lsquo;complex&rsquo; to be any good.</p>
<p>Unfortunately we have been led to believe that the more complex a
password is—the better and more secure it will be—which is
in fact wrong.</p>
<p>In fact a longer password, but one that can that can be more easily
remembered, and therefore consequentially be changed more frequently,
actually offers a far greater degree of security.</p>
<p>For more information or more detailed explanations of this approach,
please see the web pages included below under &lsquo;References&rsquo;. There are
plenty of other expert sources on the Internet also, that will explain
the security benefits of using a randomly generated three word (or
more) combination password. Just remember—your password must be
at least nine characters in total—or longer if possible. You can
of course always add additional punctuation, and/or numbers, should
you wish!</p>
<h3 id="so-how-many-possible-passwords-are-there">So How Many Possible Passwords Are There?</h3>
<p>There are over 500 three letter words in the pool that can be chosen
from, and assuming you use at least three of these words combined,
that provide 500^3 (500 to power of 3) possible combinations—of
which one is your password.</p>
<p>So - 500 x 500 x 500 = 125,000,000 (one hundred and twenty five
million) possibilities.</p>
<p>Maybe that doesn&rsquo;t sound like a lot - but if you could check 20 of
them every second, 24 hours a day, you would need roughly 60 days to
get through them all!</p>
<p>If you use the mixed case option (upper and lower case)—then
that number increases further of course—and you can still add
numbers, and/or punctuation characters if you wish too.</p>
<p>Or just increase you password length to 12 characters, so use four of
the three letter words combined, and you end up with 62,500,000,000 (sixty two
billion five hundred million) possibilities—and that just lower case
letters only.</p>
<h3 id="so-where-is-it-then">So Where Is It Then?</h3>
<p>The <a href="https://github.com/wiremoons/passgen">passgen source code</a> is available from my GitHub page, and I have made
pre-compiled binaries for Windows, Mac, and Linux available from a
<a href="https://github.com/wiremoons/passgen/releases">Release Page</a>. The application is not feature complete yet—but it
does work well, and will improve as I get time to work on it further.</p>
<h3 id="references">References</h3>
<ul>
<li>Thomas Baekdal - The Usability of Passwords - FAQ</li>
<li><a href="http://www.baekdal.com/insights/the-usability-of-passwords-faq">http://www.baekdal.com/insights/the-usability-of-passwords-faq</a></li>
<li>Steve Gibson - GRC &lsquo;How Big is Your Haystack?&rsquo;</li>
<li><a href="https://www.grc.com/haystack.htm">https://www.grc.com/haystack.htm</a></li>
</ul>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="http://www.wiremoons.com/posts/2014-11-30-serving-up-static-content-from-golang-apps/">Serving Up Static Content from Golang Apps</a></h1>
        <span class="post-date">Nov 30, 2014</span>
        <h2 id="the-background">The Background</h2>
<p><a href="http://golang.org/" title="'The Go Programming Language' - @google">Go</a> is a great programming language, and three of the features I like the most are:</p>
<ol>
<li><strong>its easy cross platform program creation</strong> - write a program on a Linux 64bit system—cross compile easily, and deploy the executable straight onto a Windows 32bit computer (if you so desire of course!);</li>
<li><strong>its modern awareness of the web</strong> - and therefore inclusion of commonly required application functionality built-in to the language libraries;</li>
<li><strong>its static compilation</strong> - related to the first one, but key in that it is only the executable that needs to be deployed—no library dependency, DLL hell, or installation packaging needed.</li>
</ol>
<p>What I dont like to much at the moment—or probably more correctly—I am coming to terms with, is the different approach is the lack of a standard graphical user interface (GUI) libraries. There is lots of work going on to port the usual suspects (<a href="http://mattn.github.io/go-gtk/" title="'Go GTK' - @mattn">GTK</a>, <a href="https://github.com/visualfc/goqt" title="'GoQT' - @visualfc">QT</a>, <a href="https://github.com/AndrewBC/cursed" title="'Cursed' - @AndrewBC">ncurses</a>, <a href="https://github.com/go-qml/qml" title="'go-qml' - @go-qml">QML</a>), and there are some good native Go libraries about too (<a href="https://github.com/nsf/termbox-go" title="'termbox-go' - @nsf">termbox-go</a>) and of course the ability to use a web interface.</p>
<p>So while I am personally quite happy with the command line interface (CLI), and most quick applications I write are just that, if you ever want to make your computer program accessible to the majority of computer users, a familiar GUI is required.</p>
<p>So, I thought I would have a go at creating an application that is managed and controlled by the user through a web browser. My inspiration for this is the fantastic open source application called <a href="http://syncthing.net/" title="'Syncthing - *Syncthing replaces proprietary sync and cloud services with something open, trustworthy and decentralized*'">Syncthing</a>. When you start this application (you can optional disable this behaviour of course!) it will open the users web browser, and provide a very modern (using <a href="http://getbootstrap.com/" title="'Bootstrap open-sourced framework' - @mdo and @fat">Bootstrap</a> and other code) interface, that is intuitive, informative, instructional, and independent.</p>
<p>What do I mean by this?  Well:</p>
<ul>
<li><strong>intuitive</strong>: when you see the interface you immediately get an idea of what it is for, and how you might interact with it—it&rsquo;s in the web browser which you use frequently and are familiar with (hopefully!);</li>
<li><strong>informative</strong>: the interface contains useful functional information that serves a purpose, and therefore inspires confidence that in will do what it is designed for;</li>
<li><strong>instructional</strong>: the interface contains enough hints, labels, indicators, and meta help to ensure you are confident to interact with it—without fear it destroy you computer;</li>
<li><strong>independent</strong>: the interface is self contained on one web page; doesn&rsquo;t sprawl onto other areas, doesn&rsquo;t needs other &lsquo;stuff&rsquo; to make it work (expect the modern browser), and feels contained and manageable.</li>
</ul>
<p>So that covers off the user needs, well a lot of the key <em>getting going</em> ones anyway!</p>
<p>So how hard is it to make something as cool as <a href="https://github.com/syncthing/syncthing" title="'Syncthing' - @calmh">Syncthing</a>&lsquo;s awesome offering?</p>
<p>How does it work in the background?  How do I get a functional <em>under the hood</em> application to sync my files—and a cool user interface? Where does it store all the code, the web pages, the web-server, the Bootstrap, JavaScript, never-mind the actual programs original file-syncing purpose?</p>
<p>Well that&rsquo;s the journey I have begun, trying to figure out what I need to do to replicate this, or something close to it—and add a nice web browser based GUI to one of my programs, that is currently a CLI application only.</p>
<p>Just to make it easy on myself the application I want to put a front end on is quite simple, but does use a database to store its information. This is currently in <a href="http://www.sqlite.org/" title="SQlite - *SQLite is a software library that implements a self-contained, serverless, zero-configuration, transactional SQL database engine.*">SQLite</a>—so maybe I will write another post in the future about my quest on using non Go and native Go databases in my applications&hellip;</p>
<p>So, this article is going to just focus on managing the GUI interface content in the application, and specifically how it can be included in the application binary?</p>
<h2 id="the-problem-to-be-solved">The Problem to be Solved</h2>
<p>So surely you just write you application, throw in a <a href="https://golang.org/doc/articles/wiki/" title="Golang.org wiki article: 'Writing Web Applications'- @google">simple Go web server</a>, give it some HTML pages, chuck in some Bootstrap CSS and job done?</p>
<p>Well that&rsquo;s what I first thought too, being an optimist when it comes to starting a new hobby programming endeavour! Just quickly wrap those add-ons around my code—job done—while the kettle is boiling ready for my next coffee break. I expect any professional programmer reading this is banging his head against the desk while cackling to themselves now!</p>
<p>So back to the five minute job. I thought I would start with a simple web server, and the Bootstrap integration, how hard can that be. I found on Google a great article by Greg Reinbach on building <a href="http://www.reinbach.com/" title="Greg Reinbach blog article 'Golang Web Apps'">Golang Web Apps</a> which fitted the bill perfectly. After being completely side tracked (see my previous article: <a href="http://www.wiremoons.com/posts/2014-10-01-goLang-why-two-log-outputs" title="'Why Two Log Outputs?' - @wiremoons">&lsquo;Why Two Log Outputs?'</a>) I finally got a web server running. After also reading another helpful article  by @zeebo called <a href="http://shadynasty.biz/blog/2012/07/30/quick-and-clean-in-go/" title="'Quick and Clean in Go' - blog article by @zeebo">&lsquo;Quick and Clean in Go&rsquo;</a>, I believed I was there!</p>
<p>I managed to create some static pages, and got a brief understanding of <a href="http://golang.org/pkg/html/template" title="'HTML Templates Package' - @google">html templates</a>, chucked in the download Bootstrap CSS, tested it locally, and so was <em>good to go</em>—or not&hellip;</p>
<p>My application maybe used in an environment where it will not be able to access the internet—so it needs to be self sufficient. It also will run across different platforms (Linux, Mac and Windows), so the application should be a self contained binary to make upgrades easy, and therefore with as few external dependencies as possible (ie no database files; web pages; CSS style sheet; graphics; etc).</p>
<p>No worries I thought, along with the the go application code I wrote—all my other dependencies files are laid out in directories alongside the Go code file (templates, static files, css, etc)—just as all the internet articles I read suggest (or more importantly I had assumed was implied)—so surely all that stuff I massaged together into a nice logical file structure gets included once my application is built right! After all Go builds self contained static binaries with all the required libraries and dependencies taken care of!</p>
<p>Wrong. Build the application and it runs fine locally. Excitably deploy it to another computer (or virtual machine), and you end up with panics, errors and screens of information telling you that you are obviously stupid and incompetent when it comes to programming, as the content cant be found any more!</p>
<p>Back to &lsquo;the Google&rsquo; for some more advice and answers to question that are only provided in the context that you ask them in—so this time I asked with a wider context, less assumptions, and more perceived wisdom, the research restarted.</p>
<p>It turns out that clever Golang programmers embed all there files and external dependencies themselves within their application binaries. This is done with a mixture of voodoo that can include compression (ie zip, or gzip), base64 encoding, directory and file walking, pre-build work, and internal application clever path management of the then incorporated files. There are a few options around that can be used to achieved this:</p>
<ol>
<li>Write your own - such as the Syncthing author @calmh did—reading (or in my case trying to unpick and decipher) the <a href="https://github.com/syncthing/syncthing" title="'Syncthing' - @calmh">Syncthing source code</a>, it has build scripts and asset creation code which is very useful;</li>
<li>Use a native Golang tool for the job such as: <a href="https://github.com/jteeuwen/go-bindata" title="go-bindata - *A small utility which generates Go code from any file.* - @jteeuwen">go-bindata</a>, <a href="https://github.com/GeertJohan/go.rice" title="go.rice - *a Go package that makes working with resources such as html,js,css,images,templates, etc very easy.* - @GeertJohan">go.rice</a> which provide an out of the box solution which I found via Google search;</li>
<li>Also courtesy of an <a href="http://mattjibson.com/blog/2014/11/19/esc-embedding-static-assets/" title="'esc: Embedding Static Assets in Go' - blog by @mjibson">blog article</a> on this same subject, there is @mjibson&rsquo;s own <a href="https://github.com/mjibson/esc" title="'esc - *A simple file embedder for Go*' - @mjibson">ecs</a>, and another I didnt find <a href="https://github.com/rakyll/statik" title="'statik - *Embed static files into a Go executable*'' - @rakyll">statik</a>. Thanks to the weekly <a href="http://golangweekly.com/" title="'A great weekly 'Go Newsletter' sent to your inbox—once your subscribe of course!'' - @mattrco and @kelseyhightower">Go Newsletter</a> <a href="http://www.golangweekly.com/archive/go-newsletter-issue-37/" title="Go Newsletter Issue #37">Issue #37</a> for helping me find this resource!</li>
</ol>
<h2 id="conclusion">Conclusion</h2>
<p>So there are plenty of solutions out there to this issue, and I am sure that I can use one of the approaches listed above to incorporate a working model and solution into my own application. Time for more reading, coding experiments, and hopefully a working application soon!</p>
<h2 id="questions-for-the-future">Questions for the Future</h2>
<p>Not researched this question yet—but if web applications that are run from users local machines are going to increase over time (I run a few myself already)—how are we going to manage the proliferation of port usage for all the local web servers running each application? Each web server, for each web application will need its own local port.</p>
<p>So, currently when a web application is written, it runs its own web server on an unprivileged port on the local machine (ie <code>http://localhost:8080/</code> where <code>8080</code> is the port). That port defaults to one chosen by the codes author. If we all pick the same ones, then the user is going to be left with the task of re-configuring the application and assigning a free port on their computer.</p>
<p>So the question is: <em>is there a local web server port usage/allocation solution out there, or some kind of mux, or Application Programming Interface (API) we can use?</em></p>
<p>As I said at the start of this article - Go has a &lsquo;modern awareness of the web&rsquo;, so does it already have a clever solution we can all adopt?</p>
<p>Otherwise—time to research local machine port scanning code to find a solution!</p>
<h2 id="further-information">Further Information</h2>
<p>Further resources and information used in-conjunction with the above article (and linked to in-line) can be found here:</p>
<ul>
<li><a href="http://golang.org/">http://golang.org/</a> &lsquo;The Go Programming Language&rsquo; - @google</li>
<li><a href="http://mattn.github.io/go-gtk/">http://mattn.github.io/go-gtk/</a> &lsquo;Go GTK&rsquo; - @mattn</li>
<li><a href="https://github.com/visualfc/goqt">https://github.com/visualfc/goqt</a> &lsquo;GoQT&rsquo; - @visualfc</li>
<li><a href="https://github.com/AndrewBC/cursed">https://github.com/AndrewBC/cursed</a> &lsquo;Cursed&rsquo; - @AndrewBC</li>
<li><a href="https://github.com/go-qml/qml">https://github.com/go-qml/qml</a> &lsquo;go-qml&rsquo; - @go-qml</li>
<li><a href="https://github.com/nsf/termbox-go">https://github.com/nsf/termbox-go</a> &lsquo;termbox-go&rsquo; - @nsf</li>
<li><a href="https://github.com/syncthing/syncthing">https://github.com/syncthing/syncthing</a> &lsquo;Syncthing&rsquo; - @calmh</li>
<li><a href="http://getbootstrap.com/">http://getbootstrap.com/</a> &lsquo;Bootstrap open-sourced framework&rsquo; - @mdo and @fat</li>
<li><a href="https://golang.org/doc/articles/wiki/">https://golang.org/doc/articles/wiki/</a> Golang.org wiki article: &lsquo;Writing Web Applications&rsquo;- @google</li>
<li><a href="http://www.reinbach.com/">http://www.reinbach.com/</a> Greg Reinbach blog article &lsquo;Golang Web Apps&rsquo;</li>
<li><a href="http://www.wiremoons.com/posts/2014-10-01-goLang-why-two-log-outputs">http://www.wiremoons.com/posts/2014-10-01-goLang-why-two-log-outputs</a> &lsquo;Why Two Log Outputs?&rsquo; - @wiremoons</li>
<li><a href="http://golang.org/pkg/html/template">http://golang.org/pkg/html/template</a> &lsquo;HTML Templates Package&rsquo; - @google</li>
<li><a href="http://shadynasty.biz/blog/2012/07/30/quick-and-clean-in-go/">http://shadynasty.biz/blog/2012/07/30/quick-and-clean-in-go/</a> &lsquo;Quick and Clean in Go&rsquo; - blog article by @zeebo</li>
<li><a href="https://github.com/jteeuwen/go-bindata">https://github.com/jteeuwen/go-bindata</a> go-bindata - <em>A small utility which generates Go code from any file.</em> - @jteeuwen</li>
<li><a href="https://github.com/GeertJohan/go.rice">https://github.com/GeertJohan/go.rice</a> go.rice - <em>a Go package that makes working with resources such as html,js,css,images,templates, etc very easy.</em> - @GeertJohan</li>
<li><a href="http://mattjibson.com/blog/2014/11/19/esc-embedding-static-assets/">http://mattjibson.com/blog/2014/11/19/esc-embedding-static-assets/</a> &lsquo;esc: Embedding Static Assets in Go&rsquo; - blog by @mjibson</li>
<li><a href="https://github.com/mjibson/esc">https://github.com/mjibson/esc</a> &lsquo;esc - <em>A simple file embedder for Go</em>&rsquo; - @mjibson</li>
<li><a href="https://github.com/rakyll/statik">https://github.com/rakyll/statik</a> &lsquo;statik - <em>Embed static files into a Go executable</em>&rsquo;&rsquo; - @rakyll</li>
<li><a href="http://syncthing.net/">http://syncthing.net/</a> &lsquo;Syncthing - <em>Syncthing replaces proprietary sync and cloud services with something open, trustworthy and decentralized</em>&rsquo;</li>
<li><a href="http://www.sqlite.org/">http://www.sqlite.org/</a> SQlite - <em>SQLite is a software library that implements a self-contained, serverless, zero-configuration, transactional SQL database engine.</em></li>
<li><a href="http://golangweekly.com/">http://golangweekly.com/</a> &lsquo;A great weekly &lsquo;Go Newsletter&rsquo; sent to your inbox—once your subscribe of course!&rsquo;&rsquo; - @mattrco and @kelseyhightower</li>
<li><a href="http://www.golangweekly.com/archive/go-newsletter-issue-37/">http://www.golangweekly.com/archive/go-newsletter-issue-37/</a> Go Newsletter Issue #37</li>
</ul>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="http://www.wiremoons.com/posts/2014-10-01-golang-why-two-log-outputs/">Go Web Server - Why Two Log Outputs?</a></h1>
        <span class="post-date">Nov 1, 2014</span>
        <h1 id="the-go-program">The Go Program</h1>
<p>Create a very simple Go web server as follows, by saving the following Go code into a file called server.go:</p>
<pre><code>package main

import (
	&quot;io&quot;
	&quot;log&quot;
	&quot;net/http&quot;
)

// Function Home - that handles a web server request for a page
func Home(w http.ResponseWriter, req *http.Request) {
	// write some text to the calling web browser
	io.WriteString(w, &quot;Hello World!&quot;)
	// output to the console that we did something
	log.Println(&quot;served a web page&quot;)
}

// Function: MAIN
func main() {
	// start up output - to let us know the web server is starting
	log.Println(&quot;Starting server...&quot;)
	// handler registered for requests to the root of our web server - send them to the function 'Home'
	http.HandleFunc(&quot;/&quot;, Home)
	// start a web server on localhost port 8000 grabbing any errors that occur
	err := http.ListenAndServe(&quot;:8000&quot;,nil)
	// check for any errors from the above web server start-up
	if err != nil {
		log.Fatal(&quot;ListenAndServer: &quot;, err)
	}
}
</code></pre><p>Assuming you already have Go installed on your computer and configured correctly, the above can be run with:</p>
<pre><code>go run server.go
</code></pre><h2 id="the-strange-output">The Strange Output?</h2>
<p>So what&rsquo;s the point?</p>
<p>Well we now have a simple web server that displays <strong>&ldquo;Hello World!&quot;</strong> in you browser window, which is very cool for so little code! You need to send browser to the URL:  http://localhost:8000</p>
<p>But the curious thing (to me) was whenever I visit the page or just refreshed it, I was seeing two outputs on the console window as follows:</p>
<pre><code>2014/11/01 07:31:02 served a web page
2014/11/01 07:31:02 served a web page
</code></pre><p>The time stamp is the same for both outputs—and I only visited the page once. So why two outputs??</p>
<p>The outputs are being provided by the code that runs each time the handler function called &lsquo;<code>Home</code>&rsquo; to serve a web page is run, the output is generated by the <code>log.Println(&quot;served a web page&quot;)</code> instruction. But why is it output twice?</p>
<h2 id="the-investigation">The Investigation</h2>
<p>So a quick search on Google to find out! Nothing obvious to explain it. Time to figure it out&hellip;</p>
<p>Reasons I thought of:</p>
<ol>
<li>A bug in Go?  I doubt it very much—the <code>log.Println</code> is used by lots of people&rsquo;s programs, so I hardly think I am the first person to notice something as simple as this - so probably not a bug!</li>
<li>Maybe it is outputting a log entry for both stdout and stderr?  Possible—but unlikely for a default setting.</li>
<li>I have done something dumb (again!) and the output is getting called twice due to some programming logic error—quite possible—but checking the code logic, nothing stands out!</li>
<li>So—must be some other issue causing it I guess—time to find out more&hellip;</li>
</ol>
<p>We need to isolate why we are getting two log outputs for one page visit. So some way to see if the two log outputs are for the same reason (ie duplicates)—or in fact they are generated correctly for two different reasons. But how?</p>
<p>Well, if the <code>Home</code> function is being call twice (as the log output indicates), then there must be two requests being handled by the web server?</p>
<p>Ok, so how can I differentiate between the two log outputs?</p>
<p>Looking at the <code>Home</code> function I see it requires two parameters when it is called to serve a web page:</p>
<pre><code>func Home(w http.ResponseWriter, req *http.Request)
</code></pre><p>The parameters are:</p>
<ol>
<li>1st function parameter : <code>w http.ResponseWriter</code></li>
<li>2nd function parameter : <code>req *http.Request</code></li>
</ol>
<p>The 2nd is the <code>http.Request</code>—so the Hyper Text Transfer Protocol (HTTP) request to serve some content. This is the request sent by our web browser asking for something to be provided by our web server!</p>
<p>So if we are genuinely getting two requests (hence to log output)—we should be able to see them by checking the requests themselves!</p>
<h2 id="the-re-code-to-find-the-problem">The Re-Code to Find the Problem</h2>
<p>Quick change to the code—so the log output also provides the <code>http.Request</code> we get from the browser—so we can examine them:</p>
<pre><code>package main

import (
	&quot;io&quot;
	&quot;log&quot;
	&quot;net/http&quot;
)

// Function Home - that handles a web server request for a page
func Home(w http.ResponseWriter, req *http.Request) {
	io.WriteString(w, &quot;Hello World!&quot;)
	log.Print(&quot;served a web page:\n&quot;,req,&quot;\n\n&quot;)
}

// Function: MAIN
func main() {
	// start up output - to let us know the web server is starting
	log.Println(&quot;Starting server...&quot;)
	// handler registered for requests to the root of our web server - send them to the function 'Home'
	http.HandleFunc(&quot;/&quot;, Home)
	// start a web server on localhost port 8000 grabbing any errors that occur
	err := http.ListenAndServe(&quot;:8000&quot;,nil)
	// check for any errors from the above web server start-up
	if err != nil {
		log.Fatal(&quot;ListenAndServer: &quot;, err)
	}
}
</code></pre><p>In the code, we have altered the request to the log package—asking it now also to provide a copy of the <code>http.Request</code> it received (ie information held in the variable: <code>req</code>) as well as a few newlines (ie <code>\n</code>) to improve the output formatting to the console. The new line of code is:</p>
<pre><code>log.Print(&quot;served a web page\n&quot;,req,&quot;\n\n&quot;)
</code></pre><p>The output we see when now when re-running the server and requesting a page is as follows:</p>
<pre><code>2014/11/01 07:51:02 Starting server...
2014/11/01 07:51:06 served a web page:
&amp;{GET / HTTP/1.1 1 1 map[Accept:[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8] User-Agent:[Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/37.0.2062.94 Chrome/37.0.2062.94 Safari/537.36] Dnt:[1] Accept-Encoding:[gzip,deflate,sdch] Accept-Language:[en-US,en;q=0.8] Connection:[keep-alive] Cache-Control:[max-age=0]] 0x7eb1c0 0 [] false localhost:8000 map[] map[] &lt;nil&gt; map[] 127.0.0.1:54933 / &lt;nil&gt;}

2014/11/01 07:51:06 served a web page:
&amp;{GET /favicon.ico HTTP/1.1 1 1 map[Dnt:[1] User-Agent:[Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/37.0.2062.94 Chrome/37.0.2062.94 Safari/537.36] Accept-Encoding:[gzip,deflate,sdch] Accept-Language:[en-US,en;q=0.8] Connection:[keep-alive] Accept:[*/*]] 0x7eb1c0 0 [] false localhost:8000 map[] map[] &lt;nil&gt; map[] 127.0.0.1:54933 /favicon.ico &lt;nil&gt;}
</code></pre><p>Looking at the two outputs again—we can now see they are both different requests!!  But why?</p>
<p>The first request starts with:</p>
<pre><code>&amp;{GET / HTTP/1.1
</code></pre><p>Which is a <code>GET</code> for <code>/</code> —so asking (ie GETting) a copy of the web page located on the web server at the location <code>/</code> —which is the root of the web site.  That is is fine—and what we would expect—a request to provide a web page&hellip;</p>
<p>The second request then—this starts with:</p>
<pre><code>&amp;{GET /favicon.ico HTTP/1.1
</code></pre><p>Which is a <code>GET</code> for <code>/favicon.ico</code> - so asking (ie GETting) a copy of a file called <code>favicon.ico</code> located on the web server. Ok—so the browser issues a second request to our web server—asking for a copy of the icon our web site uses—the little icon you see for the site in your bookmarks, to help identify the site.</p>
<p>Now it makes sense why we are getting two request for every single web page served. No bug, no coding error, no weird log options—just a simple double request each time a page is served—once for the page content, and a second for any fav icon our site might have.</p>
<p>The tin foil hat can go back into the cupboard—this is normal.</p>
<h2 id="what-next">What Next?</h2>
<p>Well—now we have this logging facility, we might as well keep it, and add an option to our code to turn it on and off. We need to add another package to provide this functionality called <code>io/ioutil</code> and add another line to manage the output to our main function: <code>log.SetOutput(ioutil.Discard)</code></p>
<p>This discards (ie throws away) the log output if we wish. To re-enable it—change this line to: <code>log.SetOutput(io.Stderr)</code> —or just comment the line out to go back to the default behaviour. If you do comment it out though—you will also need to comment out the <code>io/ioutil</code> package as well—as you wont be using it any more in the program, and the Go compiler will spot this and complain to you!</p>
<p>The final code looks like this:</p>
<pre><code>package main

import (
	&quot;io&quot;
	&quot;io/ioutil&quot;
	&quot;log&quot;
	&quot;net/http&quot;
)

// Function that handles a web server request for a page
func Home(w http.ResponseWriter, req *http.Request) {
	io.WriteString(w, &quot;Hello World!&quot;)
	log.Print(&quot;served a web page\n&quot;,req,&quot;\n\n&quot;)
}

// Function: MAIN
func main() {
	// control log output: 'ioutil.discard' == throw away  or  'os.Stderr' == output to Stderr (console)
	log.SetOutput(ioutil.Discard)
	// start up output
	log.Println(&quot;Starting server...&quot;)
	// handler registered for requests to the root of our web server - send them to the function 'Home'
	http.HandleFunc(&quot;/&quot;, Home)
	// start a web server on localhost port 8000 grabbing any errors that occur
	err := http.ListenAndServe(&quot;:8000&quot;,nil)
	// check for any errors from the above web server start-up
	if err != nil {
		log.Fatal(&quot;ListenAndServer: &quot;, err)
	}
}
</code></pre><h2 id="further-information">Further Information</h2>
<p>As an exercise—the flags package could be used to control the log output (ie turn logging output on or off) when the web server is started up.</p>
<p>Further resources and information used in-conjunction with the above can be found here:</p>
<ul>
<li><a href="http://www.reinbach.com/">http://www.reinbach.com/</a> - Greg Reinbach blog article &ldquo;Golang Web Apps&rdquo;</li>
<li><a href="http://www.goinggo.net/2013/11/using-log-package-in-go.html">http://www.goinggo.net/2013/11/using-log-package-in-go.html</a> - A Going Go Programming article on &ldquo;Using The Log Package In Go&rdquo;</li>
<li><a href="http://screamingatmyscreen.com/2013/6/http-request-and-goroutines/">http://screamingatmyscreen.com/2013/6/http-request-and-goroutines/</a> - Timo Zimmermann blog on &ldquo;http.Request and goroutines&rdquo;</li>
<li><a href="http://stackoverflow.com/questions/22131865/defer-log-setoutputos-stdout-after-log-setoutputioutil-discard">http://stackoverflow.com/questions/22131865/defer-log-setoutputos-stdout-after-log-setoutputioutil-discard</a> - Stack Overflow article on ioutil changes</li>
<li><a href="http://golang.org/src/pkg/log/log.go">http://golang.org/src/pkg/log/log.go</a> - Go source code for the log package</li>
</ul>

    </div>
  
</div>

<div class="pagination">
  
  <span class="pagination-item older">Older</span>
  

  
  <span class="pagination-item newer">Newer</span>
  
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    
  </body>
</html>

